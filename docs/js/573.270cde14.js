"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[573],{8573:function(t,e,i){i.r(e),i.d(e,{default:function(){return lt}});var n=i(3396),s=i(7139);const l=t=>((0,n.dD)("data-v-47a84b20"),t=t(),(0,n.Cn)(),t),a={class:"container",id:"container"},r={class:"row"},o={class:"col-lg-3 col-md-12"},c={class:"col-lg-6 col-md-12"},L={class:"table cardCenterChild"},h=["id"],d={class:"col-lg-3 col-md-12"},E=l((()=>(0,n._)("h1",null," –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ ",-1))),C=l((()=>(0,n._)("p",null," –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—è ",-1))),u=l((()=>(0,n._)("div",{class:"separator"},null,-1))),b=l((()=>(0,n._)("div",{class:"separator"},null,-1))),_=l((()=>(0,n._)("div",{class:"spacer"},null,-1))),y=l((()=>(0,n._)("div",{class:"spacer"},null,-1))),g=l((()=>(0,n._)("div",{class:"separator"},null,-1))),f=l((()=>(0,n._)("div",{class:"spacer"},null,-1)));function p(t,e,i,l,p,m){const B=(0,n.up)("LabyrinthDescription"),T=(0,n.up)("Card"),v=(0,n.up)("vue-slider");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",r,[(0,n._)("div",o,[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B)])),_:1})]),(0,n._)("div",c,[(0,n.Wm)(T,{class:"cardCenter labyrinthCard",id:"labyrinthCard"},{default:(0,n.w5)((()=>[(0,n._)("table",L,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.labyrinthSizing,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.labyrinthSizing,(t=>((0,n.wg)(),(0,n.iD)("td",{key:t,id:"table-cell-"+(t-1)+"x"+(e-1),class:"table-cell"}," ¬† ",8,h)))),128))])))),128))])])])),_:1})]),(0,n._)("div",d,[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[E,C,(0,n.Wm)(v,{modelValue:t.labyrinthSizing,"onUpdate:modelValue":e[0]||(e[0]=e=>t.labyrinthSizing=e),disabled:!t.isConfigEditable,dotSize:20,max:29,min:5,silent:!0},null,8,["modelValue","disabled"]),u,(0,n._)("button",{class:(0,s.C_)(["button button-border button-rounded",{"button-primary button-glow activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"generateButton"}," –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∞–±–∏—Ä–∏–Ω—Ç ",2),b,(0,n._)("button",{class:(0,s.C_)(["button button-border button-rounded",{"button-action activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"startPickingButton"}," –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—Ç ",2),_,(0,n._)("button",{class:(0,s.C_)(["button button-border button-rounded",{"button-caution activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"finishPickingButton"}," –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∏–Ω–∏—à ",2),y,(0,n._)("button",{class:(0,s.C_)(["button button-border button-rounded",{"button-inverse activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"borderPickingButton"}," –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã ",2),g,(0,n._)("button",{class:(0,s.C_)(["button button-border button-rounded",{"button-highlight activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"startButton"}," –ó–∞–ø—É—Å—Ç–∏—Ç—å ",2),f,(0,n._)("button",{class:(0,s.C_)(["button button-flat button-border button-rounded",{activeButton:!0===t.isConfigEditable,nonActiveButton:!1===t.isConfigEditable}]),id:"clearButton"}," –û—á–∏—Å—Ç–∏—Ç—å ",2)])),_:1})])])])}var m=i(2482),B=i(6520),T=i(9434),v=i(6948);const I=(0,n._)("h1",null," A* ",-1),R=(0,n._)("h3",null," –ë–æ–Ω—É—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ",-1),P=(0,n._)("p",null," –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ ",-1);function A(t,e,i,s,l,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[I,R,P],64)}var S=function(t,e,i,n){var s,l=arguments.length,a=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,i,a):s(e,i))||a);return l>3&&a&&Object.defineProperty(e,i,a),a};let N=class extends B.w3{};N=S([(0,B.Ei)({components:{}})],N);var k=N,w=i(89);const O=(0,w.Z)(k,[["render",A]]);var D=O;class M{constructor(t,e){(0,m.Z)(this,"point",void 0),(0,m.Z)(this,"type",void 0),this.point=t,this.type=e}}var H,G=M;(function(t){t[t["BORDER_CELL"]=0]="BORDER_CELL",t[t["EMPTY_CELL"]=1]="EMPTY_CELL",t[t["CAN_BECOME_EMPTY"]=2]="CAN_BECOME_EMPTY",t[t["START_CELL"]=3]="START_CELL",t[t["FINISH_CELL"]=4]="FINISH_CELL",t[t["PATH_CELL"]=5]="PATH_CELL"})(H||(H={}));var Y=H;class F{constructor(t,e){(0,m.Z)(this,"x",void 0),(0,m.Z)(this,"y",void 0),this.x=t,this.y=e}}var x=F;class Z{static getInstance(){return Z.instance||(Z.instance=new Z),Z.instance}static findPossibleDirection(t,e,i,n,s){return n+2<t&&e[n+2][s].type===Y.BORDER_CELL&&(i.push((n+2)*t+s),e[n+2][s].type=Y.CAN_BECOME_EMPTY),n-2>=0&&e[n-2][s].type===Y.BORDER_CELL&&(i.push((n-2)*t+s),e[n-2][s].type=Y.CAN_BECOME_EMPTY),s+2<t&&e[n][s+2].type===Y.BORDER_CELL&&(i.push(n*t+s+2),e[n][s+2].type=Y.CAN_BECOME_EMPTY),s-2>=0&&e[n][s-2].type===Y.BORDER_CELL&&(i.push(n*t+s-2),e[n][s-2].type=Y.CAN_BECOME_EMPTY),i}static createWay(t,e,i,n){const s=n%t,l=Math.floor(n/t),a=[4,4,4,4];l+2<t&&e[l+2][s].type===Y.EMPTY_CELL&&(a[0]=0),l-2>=0&&e[l-2][s].type===Y.EMPTY_CELL&&(a[1]=1),s+2<t&&e[l][s+2].type===Y.EMPTY_CELL&&(a[2]=2),s-2>=0&&e[l][s-2].type===Y.EMPTY_CELL&&(a[3]=3);const r=Math.floor(4*Math.random()),o=Math.floor(4*Math.random()),c=a[r];a[r]=a[o],a[o]=c;for(let L=0;L<4;L++){if(0===a[L]){e[l+1][s].type=Y.EMPTY_CELL,e[l][s].type=Y.EMPTY_CELL;break}if(1===a[L]){e[l-1][s].type=Y.EMPTY_CELL,e[l][s].type=Y.EMPTY_CELL;break}if(2===a[L]){e[l][s+1].type=Y.EMPTY_CELL,e[l][s].type=Y.EMPTY_CELL;break}if(3===a[L]){e[l][s-1].type=Y.EMPTY_CELL,e[l][s].type=Y.EMPTY_CELL;break}}return Z.list.splice(i,1),Z.list=Z.findPossibleDirection(t,e,Z.list,l,s),e}generateLabyrinth(t){let e=[];Z.list=[];for(let s=0;s<t;s++){e[s]=[];for(let i=0;i<t;i++)e[s][i]=new G(new x(i,s),Y.BORDER_CELL)}const i=Math.floor(Math.random()*t),n=Math.floor(Math.random()*t);Z.list=Z.findPossibleDirection(t,e,Z.list,i,n),e[i][n].type=Y.EMPTY_CELL;for(let s=0;s<Math.floor(Math.pow(Math.log(t),2)*t);s++){const i=Math.floor(Math.random()*Z.list.length),n=Z.list[i];e=Z.createWay(t,e,i,n)}return e}}(0,m.Z)(Z,"instance",void 0),(0,m.Z)(Z,"list",[]);var z,K=Z,W=i(8303),j=i.n(W);(function(t){t["STARTABLE_CELL"]="table-cell-startable",t["FINISHABLE_CELL"]="table-cell-finishable",t["BORDERABLE_CELL"]="table-cell-borderable",t["CELL"]="table-cell",t["START_CELL"]="table-cell-start",t["FINISH_CELL"]="table-cell-finish",t["BORDER_CELL"]="table-cell-border",t["WRONG_PATH_CELL"]="table-cell-wrong-path",t["CORRECT_PATH_CELL"]="table-cell-correct-path"})(z||(z={}));var U=z;class V{constructor(t,e){(0,m.Z)(this,"processedCells",void 0),(0,m.Z)(this,"correctPathCells",void 0),this.processedCells=t,this.correctPathCells=e}}var q=V;class J{static getInstance(){return J.instance||(J.instance=new J),J.instance}static distanceToFinish(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}static sift(t){const e=t.length;let i=e-1,n=i-1;while(n>=0){if(n-1>=0&&t[n-1].wholePathLen<t[n].wholePathLen&&n--,!(t[i].wholePathLen>t[n].wholePathLen))break;{const e=t[i];t[i]=t[n],t[n]=e}i=n,n=2*i-e}}getLabyrinthSolution(t,e,i){let n=!1;const s=[],l=[],a=t.length-1,r=t[0].length-1,o=new x(0,0),c=Array(t.length);for(let d=0;d<t.length;d++)c[d]=new Array(t[0].length).fill(o);const L=[{coords:e,parent:new x(0,0),fromStartToPoint:0,wholePathLen:J.distanceToFinish(e,i)}];let h=[];while(L.length&&!n){const{coords:e,parent:l,fromStartToPoint:d}=L.pop(),{x:E,y:C}=e;c[C][E]==o&&(s.push(new G(e,Y.PATH_CELL)),c[C][E]=l,E>0&&c[C][E-1]==o&&t[C][E-1].type&&h.push(new x(E-1,C)),E<a&&c[C][E+1]==o&&t[C][E+1].type&&h.push(new x(E+1,C)),C>0&&c[C-1][E]==o&&t[C-1][E].type&&h.push(new x(E,C-1)),C<r&&c[C+1][E]==o&&t[C+1][E].type&&h.push(new x(E,C+1)),h.every((t=>t.x==i.x&&t.y==i.y?(c[i.y][i.x]=e,n=!0,!1):(L.push({coords:t,parent:e,fromStartToPoint:d+1,wholePathLen:d+1+J.distanceToFinish(t,i)}),J.sift(L),!0))),h=[])}if(n){let t=c[i.y][i.x];while(t!=e)l.unshift(new G(t,Y.PATH_CELL)),t=c[t.y][t.x]}return s.shift(),new q(s,l)}}(0,m.Z)(J,"instance",void 0);var Q,X=J;(function(t){t[t["START_PICKING"]=0]="START_PICKING",t[t["FINISH_PICKING"]=1]="FINISH_PICKING",t[t["BORDERS_PICKING"]=2]="BORDERS_PICKING",t[t["DATA_SUBMITTING"]=3]="DATA_SUBMITTING",t[t["LABYRINTH_CLEANING"]=4]="LABYRINTH_CLEANING",t[t["LABYRINTH_GENERATING"]=5]="LABYRINTH_GENERATING"})(Q||(Q={}));var $,tt=Q,et=function(t,e,i,n){var s,l=arguments.length,a=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,i,a):s(e,i))||a);return l>3&&a&&Object.defineProperty(e,i,a),a};let it=$=class extends B.w3{constructor(...t){super(...t),(0,m.Z)(this,"meta",(0,B.cY)((()=>(0,v.jq)({title:"üó∫",htmlAttrs:{lang:"ru",amp:!0}})))),(0,m.Z)(this,"isConfigEditable",!0),(0,m.Z)(this,"_labyrinthSizing",10),(0,m.Z)(this,"cells",document.getElementsByClassName(U.CELL)),(0,m.Z)(this,"startPickingListener",(t=>{let e=t.target;this.clearCells(),e.classList.remove(U.FINISH_CELL),e.classList.remove(U.BORDER_CELL),e.classList.add(U.START_CELL),this.removeStartListener()})),(0,m.Z)(this,"finishPickingListener",(t=>{let e=t.target;this.clearCells(),e.classList.remove(U.START_CELL),e.classList.remove(U.BORDER_CELL),e.classList.add(U.FINISH_CELL),this.removeFinishListener()})),(0,m.Z)(this,"borderPickingListener",(t=>{let e=t.target;e.classList.remove(U.START_CELL),e.classList.remove(U.FINISH_CELL),e.classList.add(U.BORDER_CELL)}))}get labyrinthSizing(){return this._labyrinthSizing}set labyrinthSizing(t){this._labyrinthSizing=t,this.resetCellsClasses(),this.updateCellsCollection()}removeStartListener(){Array.from(this.cells).forEach((t=>{t.removeEventListener("click",this.startPickingListener)}))}removeFinishListener(){Array.from(this.cells).forEach((t=>{t.removeEventListener("click",this.finishPickingListener)}))}removeBorderListener(){Array.from(this.cells).forEach((t=>{t.removeEventListener("click",this.borderPickingListener)}))}updateCellsCollection(){this.cells=document.getElementsByClassName(U.CELL)}generateLabyrinth(){this.displayGeneratedCells(K.getInstance().generateLabyrinth(this.labyrinthSizing)),this.removeBorderListener()}displayGeneratedCells(t){this.resetCellsClasses(),t.forEach((t=>{t.forEach((t=>{let e=document.getElementById(U.CELL+"-"+t.point.x+"x"+t.point.y);t.type===Y.BORDER_CELL&&e?.setAttribute("class",U.CELL+" "+U.BORDER_CELL)}))}))}changeLabyrinthDisplayState(t){if(this.isConfigEditable){switch(t){case tt.FINISH_PICKING:case tt.START_PICKING:this.clearPreviousResult(),this.removeBorderListener()}switch(t){case tt.START_PICKING:this.makeCellsSelectableForStart();break;case tt.FINISH_PICKING:this.makeCellsSelectableForFinish();break;case tt.BORDERS_PICKING:this.clearPreviousResult(),this.makeCellsSelectableForBorders();break;case tt.DATA_SUBMITTING:this.clearCells(),this.submitCellsToSolver();break;case tt.LABYRINTH_GENERATING:this.generateLabyrinth();break;case tt.LABYRINTH_CLEANING:this.resetCellsClasses();break}}}async displayLabyrinthPathsCells(t){let e=t.processedCells;for(let i=0;i<e.length;i++){let t=document.getElementById(U.CELL+"-"+e[i].point.x+"x"+e[i].point.y);t?.classList.add(U.WRONG_PATH_CELL),await new Promise((t=>setTimeout(t,300)))}await this.displayLabyrinthCorrectPathCells(t.correctPathCells)}async displayLabyrinthCorrectPathCells(t){for(let e=0;e<t.length;e++){let i=document.getElementById(U.CELL+"-"+t[e].point.x+"x"+t[e].point.y);i?.classList.add(U.CORRECT_PATH_CELL),await new Promise((t=>setTimeout(t,100)))}this.isConfigEditable=!0}static getCellCoordinates(t){let e=new RegExp("(\\d*)x(\\d*)","g"),i=[...t.id.matchAll(e)];return new x(Number(i[0][1]),Number(i[0][2]))}resetCellsClasses(){Array.from(this.cells).forEach((t=>{t.setAttribute("class",U.CELL)}))}clearCells(){Array.from(this.cells).forEach((t=>{$.clearCell(t)}))}static clearCell(t){t.classList.remove(U.STARTABLE_CELL),t.classList.remove(U.FINISHABLE_CELL),t.classList.remove(U.BORDERABLE_CELL),t.classList.remove(U.CORRECT_PATH_CELL),t.classList.remove(U.WRONG_PATH_CELL)}static updateCardSize(t){t&&(t.style.height=t.clientWidth+"px")}makeCellsSelectableForStart(){Array.from(this.cells).forEach((t=>{t.classList.add(U.STARTABLE_CELL),t.classList.remove(U.START_CELL),t.classList.remove(U.BORDERABLE_CELL),t.addEventListener("click",this.startPickingListener)}))}makeCellsSelectableForFinish(){Array.from(this.cells).forEach((t=>{t.classList.add(U.FINISHABLE_CELL),t.classList.remove(U.FINISH_CELL),t.classList.remove(U.BORDERABLE_CELL),t.addEventListener("click",this.finishPickingListener)}))}makeCellsSelectableForBorders(){Array.from(this.cells).forEach((t=>{t.classList.add(U.BORDERABLE_CELL),t.addEventListener("click",this.borderPickingListener)}))}clearPreviousResult(){Array.from(this.cells).forEach((t=>{t.classList.remove(U.WRONG_PATH_CELL),t.classList.remove(U.CORRECT_PATH_CELL)}))}initStartPickingButtonOnclickListener(){let t=document.getElementById("startPickingButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.START_PICKING)}))}initFinishPickingButtonOnclickListener(){let t=document.getElementById("finishPickingButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.FINISH_PICKING)}))}initBorderPickingButtonOnclickListener(){let t=document.getElementById("borderPickingButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.BORDERS_PICKING)}))}initStartButtonOnClickListener(){let t=document.getElementById("startButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.DATA_SUBMITTING)}))}initClearButtonOnClickListener(){let t=document.getElementById("clearButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.LABYRINTH_CLEANING)}))}initGenerateButtonOnClickListener(){let t=document.getElementById("generateButton");t?.addEventListener("click",(()=>{this.changeLabyrinthDisplayState(tt.LABYRINTH_GENERATING)}))}static initCardWidthListener(){let t=document.getElementById("labyrinthCard");$.updateCardSize(t),t?.addEventListener("resize",(()=>{$.updateCardSize(t)}))}submitCellsToSolver(){let t=new Array(this.labyrinthSizing);for(let n=0;n<this.labyrinthSizing;n++)t[n]=new Array(this.labyrinthSizing);let e=null,i=null;if(Array.from(this.cells).forEach((n=>{let s=$.getCellCoordinates(n);return n.classList.contains(U.START_CELL)&&s?(t[s.y][s.x]=new G(s,Y.START_CELL),void(e=s)):n.classList.contains(U.FINISH_CELL)&&s?(t[s.y][s.x]=new G(s,Y.FINISH_CELL),void(i=s)):void(n.classList.contains(U.BORDER_CELL)&&s?t[s.y][s.x]=new G(s,Y.BORDER_CELL):s&&(t[s.y][s.x]=new G(s,Y.EMPTY_CELL)))})),e&&i){let n=X.getInstance().getLabyrinthSolution(t,e,i);this.isConfigEditable=!1,this.displayLabyrinthPathsCells(n)}}mounted(){$.initCardWidthListener(),this.initStartPickingButtonOnclickListener(),this.initFinishPickingButtonOnclickListener(),this.initBorderPickingButtonOnclickListener(),this.initStartButtonOnClickListener(),this.initClearButtonOnClickListener(),this.initGenerateButtonOnClickListener()}};it=$=et([(0,B.Ei)({components:{LabyrinthDescription:D,VueSlider:j(),Card:T.Z}})],it);var nt=it;const st=(0,w.Z)(nt,[["render",p],["__scopeId","data-v-47a84b20"]]);var lt=st}}]);
//# sourceMappingURL=573.270cde14.js.map