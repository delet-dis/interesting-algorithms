"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[449],{3746:function(t,e,s){s.r(e),s.d(e,{default:function(){return ht}});var i=s(3396),n=s(7139);const o=t=>((0,i.dD)("data-v-1ef551fa"),t=t(),(0,i.Cn)(),t),a={class:"container",id:"container"},r={class:"row"},l={class:"col-lg-3 col-md-12"},c=o((()=>(0,i._)("h1",null," –Ø –∑–Ω–∞—é —Ç–æ—á–Ω–æ ‚Äì –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ ",-1))),h=o((()=>(0,i._)("p",null," –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –º–µ–Ω—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ ",-1))),d={class:"col-lg-6 col-md-12"},u={class:"clusterCanvas",id:"clusterCanvas",ref:"clusterCanvas"},C={class:"col-lg-3 col-md-12"},v=o((()=>(0,i._)("h1",null," –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ ",-1))),y=o((()=>(0,i._)("p",null," –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ ",-1))),p=o((()=>(0,i._)("div",{class:"separator"},null,-1))),D=o((()=>(0,i._)("p",null," –î–µ–π—Å—Ç–≤–∏—è —Å —Ç–æ—á–∫–∞–º–∏ ",-1))),f=o((()=>(0,i._)("button",{class:"button button-border button-rounded button-action",id:"addDotButton"}," –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫–∏ ",-1))),m=o((()=>(0,i._)("div",{class:"spacer"},null,-1))),b=o((()=>(0,i._)("button",{class:"button button-border button-rounded button-caution activeButton",id:"removeDotButton"}," –£–¥–∞–ª–∏—Ç—å —Ç–æ—á–∫–∏ ",-1))),g=o((()=>(0,i._)("div",{class:"separator"},null,-1))),k=o((()=>(0,i._)("p",null," –¢–∏–ø –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ ",-1))),x=o((()=>(0,i._)("div",{class:"spacer"},null,-1))),N=o((()=>(0,i._)("div",{class:"spacer"},null,-1)));function B(t,e,s,o,B,A){const I=(0,i.up)("ClusteringDescription"),M=(0,i.up)("Card"),_=(0,i.up)("Error"),O=(0,i.up)("vue-slider");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",r,[(0,i._)("div",l,[(0,i.Wm)(M,{class:"descriptionCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(I)])),_:1}),(0,i.Wm)(_,{id:"error",class:(0,n.C_)({"error-displaying":t.isErrorDisplaying})},{default:(0,i.w5)((()=>[c,h])),_:1},8,["class"])]),(0,i._)("div",d,[(0,i.Wm)(M,{class:"cardCenter clusteringCard",id:"clusteringCard"},{default:(0,i.w5)((()=>[(0,i._)("canvas",u,null,512)])),_:1})]),(0,i._)("div",C,[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[v,y,(0,i.Wm)(O,{modelValue:t.numberOfClusters,"onUpdate:modelValue":e[0]||(e[0]=e=>t.numberOfClusters=e),dotSize:20,max:10,min:2,silent:!0},null,8,["modelValue"]),p,D,f,m,b,g,k,(0,i._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-royal activeButton":!0===t.isAbleToProcessWorkWithDots,"button-flat nonActiveButton":!1===t.isAbleToProcessWorkWithDots}]),id:"kMeansButton"}," –ö-–°—Ä–µ–¥–Ω–∏—Ö ",2),x,(0,i._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-royal activeButton":!0===t.isAbleToProcessWorkWithDots,"button-flat nonActiveButton":!1===t.isAbleToProcessWorkWithDots}]),id:"hierarchyButton"}," –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π ",2),N,(0,i._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-primary button-glow activeButton":!0===t.isAbleToProcessWorkWithDots,"button-flat nonActiveButton":!1===t.isAbleToProcessWorkWithDots}]),id:"comparisonButton"}," –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ ",2)])),_:1})])])])}var A=s(2482),I=s(6520),M=s(6774),_=s(6948);const O=(0,i._)("h1",null," –ê–ª–≥–æ—Ä–∏—Ç–º –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ ",-1),T=(0,i._)("h3",null," –ë–æ–Ω—É—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ",-1),E=(0,i._)("p",null," –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è —Ç–æ—á–µ–∫ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—ã ",-1);function w(t,e,s,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[O,T,E],64)}var Z=function(t,e,s,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,s,a):n(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let S=class extends I.w3{};S=Z([(0,I.Ei)({components:{}})],S);var L=S,W=s(89);const P=(0,W.Z)(L,[["render",w]]);var z=P,F=s(8303),X=s.n(F);class R{constructor(t,e,s=null,i=null){(0,A.Z)(this,"xCoordinate",void 0),(0,A.Z)(this,"yCoordinate",void 0),(0,A.Z)(this,"kMeansIndex",void 0),(0,A.Z)(this,"hierarchyIndex",void 0),this.xCoordinate=t,this.yCoordinate=e,this.kMeansIndex=s,this.hierarchyIndex=i}}var V=R;class Y{constructor(){(0,A.Z)(this,"currentX",-1),(0,A.Z)(this,"currentY",-1),(0,A.Z)(this,"dots",[]),(0,A.Z)(this,"lastX",-1),(0,A.Z)(this,"lastY",-1)}setCenter(){let t=0,e=0;this.dots.forEach((s=>{t+=s.xCoordinate,e+=s.yCoordinate})),this.lastX=this.currentX,this.lastY=this.currentY,this.currentX=t/this.dots.length,this.currentY=e/this.dots.length}}var G=Y;class j{constructor(){(0,A.Z)(this,"clusters",[])}static getInstance(){return j.instance||(j.instance=new j),j.instance}identifyCenters(t,e){const s=e.length,i=s/t;let n=0;for(let o=0;o<t;o++,n+=i)this.clusters[o].currentX=e[Math.floor(n)].xCoordinate,this.clusters[o].currentY=e[Math.floor(n)].yCoordinate}bind(t,e){for(let s=0;s<e;s++)this.clusters[s].dots=[];for(let s=0;s<t.length;s++){let e=Number.MAX_VALUE,i=-1;for(let n=0;n<this.clusters.length;n++){const o=Math.sqrt(Math.pow(t[s].xCoordinate-this.clusters[n].currentX,2)+Math.pow(t[s].yCoordinate-this.clusters[n].currentY,2));o<e&&(e=o,t[s].kMeansIndex=n,i=n)}this.clusters[i].dots.push(t[s])}return t}splitByClusters(t,e){this.clusters=[];for(let i=0;i<e;i++)this.clusters[i]=new G;this.identifyCenters(e,t);let s=0;while(s!=e){s=0,t=this.bind(t,e);for(let t=0;t<this.clusters.length;t++)this.clusters[t].setCenter();for(let t=0;t<e;t++)this.clusters[t].currentX==this.clusters[t].lastX&&this.clusters[t].currentY==this.clusters[t].lastY&&s++}return t}}(0,A.Z)(j,"instance",void 0);var U,q=j;(function(t){t[t["DOTS_ADDING"]=0]="DOTS_ADDING",t[t["DOTS_REMOVING"]=1]="DOTS_REMOVING"})(U||(U={}));var H=U;let K;class J{constructor(t,e,s){(0,A.Z)(this,"data",void 0),(0,A.Z)(this,"prevNode",void 0),(0,A.Z)(this,"nextNode",void 0),this.data=t,this.prevNode=e,this.nextNode=s}}K=Symbol.iterator;class Q{constructor(...t){(0,A.Z)(this,"frontNode",null),(0,A.Z)(this,"backNode",null),(0,A.Z)(this,"iteratorStartNode",null),(0,A.Z)(this,"size",0);for(const e of t)this.pushBack(e)}pushBack(t){null===this.backNode?(this.backNode=new J(t,null,null),this.frontNode=this.backNode,this.iteratorStartNode=this.frontNode):(this.backNode.nextNode=new J(t,this.backNode,null),this.backNode=this.backNode.nextNode),this.size++}remove(t){let e=!0;t===this.backNode&&(t.prevNode&&(t.prevNode.nextNode=null),this.backNode=t.prevNode,e=!1),t===this.frontNode?(t.nextNode&&(t.nextNode.prevNode=null),this.frontNode=t.nextNode,this.iteratorStartNode=this.frontNode):e&&(t.prevNode&&(t.prevNode.nextNode=t.nextNode),t.nextNode&&(t.nextNode.prevNode=t.prevNode)),this.size--}concatenate(t){this.size&&t.size&&(this.backNode&&(this.backNode.nextNode=t.frontNode),t.frontNode.prevNode=this.backNode,this.backNode=t.backNode,this.size+=t.size)}[K](){let t=this.iteratorStartNode;return this.iteratorStartNode=this.frontNode,{next:()=>{const e=t;return e&&(t=t.nextNode),{done:null===e,value:e}}}}}var $=Q;class tt{constructor(t,e,s,i){(0,A.Z)(this,"points",void 0),(0,A.Z)(this,"closest",void 0),(0,A.Z)(this,"minimalDistance",void 0),(0,A.Z)(this,"distCol",void 0),this.points=t,this.closest=e,this.minimalDistance=s,this.distCol=i}}var et=tt;class st{static getInstance(){return st.instance||(st.instance=new st),st.instance}splitByClusters(t,e){const s=new $;for(let l=0;l<t.length;l++)s.pushBack(new et(new $(t[l]),null,Number.MAX_VALUE,l));const i=Array(t.length);for(let l=0;l<t.length;l++)i[l]=Array(t.length);let n,o=Number.MAX_VALUE,a=0;for(const l of s){s.iteratorStartNode=l.nextNode;let e=a+1;for(const r of s){const s=Math.sqrt(Math.pow(t[a].xCoordinate-t[e].xCoordinate,2)+Math.pow(t[a].yCoordinate-t[e].yCoordinate,2));i[a][e]=s,i[e][a]=s,s<l.data.minimalDistance&&(l.data.minimalDistance=s,l.data.closest=r,s<o&&(o=s,n=l)),s<r.data.minimalDistance&&(r.data.minimalDistance=s,r.data.closest=l),e++}a++}while(s.size!=e)if(n.data.closest&&n.data.points.concatenate(n.data.closest.data.points),n.data.minimalDistance=Number.MAX_VALUE,o=Number.MAX_VALUE,n.data.closest){const t=n,e=n.data.distCol,a=n.data.closest.data.distCol;s.remove(n.data.closest);for(const r of s){if(r===t)continue;const s=r.data.distCol,l=Math.min(i[e][s],i[a][s]);i[e][s]=l,i[s][e]=l,l<t.data.minimalDistance&&(t.data.minimalDistance=l,t.data.closest=r),l<=r.data.minimalDistance&&(r.data.minimalDistance=l,r.data.closest=t),r.data.minimalDistance<o&&(o=r.data.minimalDistance,n=r)}}let r=0;for(const l of s){for(const t of l.data.points)t.data.hierarchyIndex=r;r++}return t}}(0,A.Z)(st,"instance",void 0);var it,nt=st,ot=s(8959),at=function(t,e,s,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,s,a):n(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let rt=it=class extends I.w3{constructor(...t){super(...t),(0,A.Z)(this,"meta",(0,I.cY)((()=>(0,_.jq)({title:"üì¶",htmlAttrs:{lang:"ru",amp:!0}})))),(0,A.Z)(this,"dotsToDisplayField",[]),(0,A.Z)(this,"numberOfClustersField",2),(0,A.Z)(this,"canvas",null),(0,A.Z)(this,"canvasContext",null),(0,A.Z)(this,"clusteringDisplayState",null),(0,A.Z)(this,"isErrorDisplaying",!1),(0,A.Z)(this,"isAbleToProcessWorkWithDots",!1),(0,A.Z)(this,"kMeansColorsArray",null),(0,A.Z)(this,"hierarchyColorsArray",null),(0,A.Z)(this,"canvasClickListener",(t=>{let e=t.target.getBoundingClientRect();switch(this.clusteringDisplayState){case H.DOTS_ADDING:if(e){this.clearDots();let s=new V(t.clientX-e.left,t.clientY-e.top),i=!0;for(let t=0;t<this.dotsToDisplay.length;t++){let e=this.dotsToDisplay[t];if(it.areDotsNearby(s,e)){i=!1;break}}if(i){let t=this.dotsToDisplay;t.push(s),this.dotsToDisplay=t}}break;case H.DOTS_REMOVING:if(e){this.clearDots();let s=new V(t.clientX-e.left,t.clientY-e.top);for(let t=0;t<this.dotsToDisplay.length;t++){let e=this.dotsToDisplay[t];if(it.areDotsNearby(s,e)){let e=this.dotsToDisplay;e.splice(t,1),this.dotsToDisplay=e;break}}}break}}))}set dotsToDisplay(t){this.dotsToDisplayField=t,this.isAbleToProcessWorkWithDots=t.length>=this.numberOfClusters,this.drawDots()}get dotsToDisplay(){return this.dotsToDisplayField}get numberOfClusters(){return this.numberOfClustersField}set numberOfClusters(t){this.numberOfClustersField=t,this.isAbleToProcessWorkWithDots=this.dotsToDisplayField.length>=this.numberOfClusters}static areDotsNearby(t,e){let s=Math.sqrt(Math.pow(t.xCoordinate-e.xCoordinate,2))+Math.sqrt(Math.pow(t.yCoordinate-e.yCoordinate,2))-25;return s<=25}static updateCardSize(t){t&&(t.style.height=t.clientWidth+"px")}initCanvasOnClickListener(){this.canvas?.addEventListener("click",this.canvasClickListener)}removeCanvasClickListener(){this.canvas?.removeEventListener("click",this.canvasClickListener)}initCanvas(){this.canvas=document.getElementById("clusterCanvas"),this.canvasContext=this.canvas.getContext("2d"),this.updateCanvasSize()}initCardWidthListener(){let t=document.getElementById("clusteringCard");it.updateCardSize(t),this.updateCanvasSize(),window?.addEventListener("resize",(()=>{it.updateCardSize(t),this.updateCanvasSize()}))}initAddDotButtonOnClickListener(){let t=document.getElementById("addDotButton");t?.addEventListener("click",(()=>{this.clusteringDisplayState=H.DOTS_ADDING}))}initRemoveDotButtonOnClickListener(){let t=document.getElementById("removeDotButton");t?.addEventListener("click",(()=>{this.clusteringDisplayState=H.DOTS_REMOVING}))}initKMeansButtonOnClickListener(){let t=document.getElementById("kMeansButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=q.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initHierarchyButtonOnClickListener(){let t=document.getElementById("hierarchyButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=nt.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initComparisonButtonOnClickListener(){let t=document.getElementById("comparisonButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=nt.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters),this.dotsToDisplay=q.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initContainerWidthListener(){let t=document.getElementById("container");t&&new ResizeObserver((()=>this.updateCanvasSize())).observe(t)}initColorsArrays(){this.kMeansColorsArray=["#ADA8F1","#474555","#ACA9BB","#F69591","#BB615F","#574240","#BFA5A3","#71823B","#3F510A","#E5DBCE"],this.hierarchyColorsArray=["#514438","#ED992A","#0090B4","#B8A89A","#00C77F","#00ABBB","#00C77F","#00C9DD","#BEFCFF","#458084"]}updateCanvasSize(){let t=document.getElementById("clusteringCard");if(t&&this.canvas){let e=t.offsetWidth-30,s=t.offsetHeight-40;this.canvas.width=e,this.canvas.height=s,this.canvas.style.width=e+"px",this.canvas.style.height=s+"px"}this.drawDots()}drawDots(){this.canvas&&(this.canvasContext?.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasContext?.beginPath(),this.canvasContext?.closePath()),this.dotsToDisplay.forEach((t=>{this.canvasContext&&(this.canvasContext.moveTo(t.xCoordinate,t.yCoordinate),this.canvasContext.beginPath(),this.canvasContext.lineWidth=20,null!=t.hierarchyIndex&&null!=t.kMeansIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,-Math.PI/2,Math.PI/2),this.hierarchyColorsArray&&(this.canvasContext.strokeStyle=this.hierarchyColorsArray[t.hierarchyIndex],this.canvasContext.stroke()),this.canvasContext.beginPath(),this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,Math.PI/2,-Math.PI/2),this.kMeansColorsArray&&(this.canvasContext.strokeStyle=this.kMeansColorsArray[t.kMeansIndex],this.canvasContext.stroke())),null!=t.hierarchyIndex&&null==t.kMeansIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.hierarchyColorsArray&&(this.canvasContext.strokeStyle=this.hierarchyColorsArray[t.hierarchyIndex]),this.canvasContext.stroke()),null!=t.kMeansIndex&&null==t.hierarchyIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.kMeansColorsArray&&(this.canvasContext.strokeStyle=this.kMeansColorsArray[t.kMeansIndex]),this.canvasContext.stroke()),null==t.kMeansIndex&&null==t.hierarchyIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.canvasContext.strokeStyle="#000000",this.canvasContext.stroke()))}))}clearDots(){for(let t=0;t<this.dotsToDisplay.length;t++)this.dotsToDisplay[t].hierarchyIndex=null,this.dotsToDisplay[t].kMeansIndex=null}mounted(){this.initContainerWidthListener(),this.initColorsArrays(),this.initCanvas(),this.initCardWidthListener(),this.initAddDotButtonOnClickListener(),this.initRemoveDotButtonOnClickListener(),this.initKMeansButtonOnClickListener(),this.initHierarchyButtonOnClickListener(),this.initComparisonButtonOnClickListener(),this.initCanvasOnClickListener()}};rt=it=at([(0,I.Ei)({components:{Error:ot.Z,ClusteringDescription:z,Card:M.Z,VueSlider:X()}})],rt);var lt=rt;const ct=(0,W.Z)(lt,[["render",B],["__scopeId","data-v-1ef551fa"]]);var ht=ct}}]);