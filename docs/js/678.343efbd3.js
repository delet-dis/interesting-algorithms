"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[678],{3923:function(e,t,s){var n=s(2482);class i{constructor(e,t){(0,n.Z)(this,"data",void 0),(0,n.Z)(this,"nestedNodes",void 0),this.data=e,this.nestedNodes=t}}t["Z"]=i},7497:function(e,t,s){var n=s(2482);class i{constructor(e,t=null,s=null,i=null){(0,n.Z)(this,"type",void 0),(0,n.Z)(this,"responsibleParameter",void 0),(0,n.Z)(this,"condition",void 0),(0,n.Z)(this,"result",void 0),this.type=e,this.responsibleParameter=t,this.condition=s,this.result=i}}t["Z"]=i},2169:function(e,t){var s;(function(e){e[e["LEAF_NODE"]=0]="LEAF_NODE",e[e["BRANCH_NODE"]=1]="BRANCH_NODE",e[e["PATH_NODE"]=2]="PATH_NODE"})(s||(s={})),t["Z"]=s},9181:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2482),_data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7497),_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2169),_csv_CSVParserRepository__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9092),_data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3923);class TreeExpressionExecutorRepository{constructor(){(0,_Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,"emptyData",new _data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__.Z(0))}static getInstance(){return TreeExpressionExecutorRepository.instance||(TreeExpressionExecutorRepository.instance=new TreeExpressionExecutorRepository),TreeExpressionExecutorRepository.instance}checkCondition(value,condition){return condition.charCodeAt(0)>=60&&condition.charCodeAt(0)<=62?isNaN(Number(value))?null:eval(value+condition):value==condition}copyTree(e,t){if(e.data=new _data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__.Z(t.data.type,t.data.responsibleParameter,t.data.condition,t.data.result),t.nestedNodes){e.nestedNodes=[];for(let s=0;s<t.nestedNodes.length;s++)e.nestedNodes.push(new _data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__.Z(this.emptyData,null)),this.copyTree(e.nestedNodes[s],t.nestedNodes[s])}else t.nestedNodes=null}executeExpressionInTree(e,t){const s=_csv_CSVParserRepository__WEBPACK_IMPORTED_MODULE_1__.Z.getInstance().parseInputData(e);if(!s)return null;const n=new _data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__.Z(this.emptyData,null);this.copyTree(n,t);let i=n;while(i.data.type!=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.LEAF_NODE){i.data.type=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.PATH_NODE;for(const e of i.nestedNodes){if(e.data.responsibleParameter>s[0].length)return null;const t=this.checkCondition(s[0][e.data.responsibleParameter-1],e.data.condition);if(t){i=e;break}if(null==t)return null}}return i.data.type=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.PATH_NODE,n}}(0,_Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(TreeExpressionExecutorRepository,"instance",void 0),__webpack_exports__["Z"]=TreeExpressionExecutorRepository},9092:function(e,t,s){var n=s(2482);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}numberCheck(e){return!isNaN(Number(e))}parseInputData(e){let t=0,s=0,n=0;e=e.trim();const i=[];let r=1,l="";for(const o of e)if(","!=o){if("\n"==o){i.push(this.numberCheck(l));break}l+=o}else r++,i.push(this.numberCheck(l)),l="";r!=i.length&&i.push(this.numberCheck(l)),l="";const a=[];a.push(Array(r).fill(""));for(const o of e)if(","!=o)if("\n"!=o){if(s>=r)return null;a[t][s]+=o,n++}else{if(s!=r-1||!n||this.numberCheck(a[t][s])!=i[s])return null;a.push(Array(r).fill("")),t++,s=0}else{if(!n||this.numberCheck(a[t][s])!=i[s])return null;s++,n=0}if("\n"==e[e.length-1])a.pop();else if(s!=r-1||!n||this.numberCheck(a[t][s])!=i[s])return null;return a}}(0,n.Z)(i,"instance",void 0),t["Z"]=i},6774:function(e,t,s){s.d(t,{Z:function(){return p}});var n=s(3396);const i={class:"card"};function r(e,t,s,r,l,a){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var l=s(6520),a=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let o=class extends l.w3{};o=a([(0,l.Ei)({components:{}})],o);var d=o,c=s(89);const u=(0,c.Z)(d,[["render",r],["__scopeId","data-v-0e3cb610"]]);var p=u},2959:function(e,t,s){s.d(t,{Z:function(){return p}});var n=s(3396);function i(e,t,s,i,r,l){const a=(0,n.up)("Card");return(0,n.wg)(),(0,n.j4)(a,{class:"error"},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}var r=s(6520),l=s(6774),a=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let o=class extends r.w3{};o=a([(0,r.Ei)({components:{Card:l.Z}})],o);var d=o,c=s(89);const u=(0,c.Z)(d,[["render",i],["__scopeId","data-v-0b922abf"]]);var p=u},3280:function(e,t,s){s.r(t),s.d(t,{default:function(){return _e}});var n=s(3396),i=s(7139);const r=e=>((0,n.dD)("data-v-15123ada"),e=e(),(0,n.Cn)(),e),l={class:"container"},a={class:"row"},o={class:"col-lg-3 col-md-12"},d=r((()=>(0,n._)("h1",null," Чего-то не хватает ",-1))),c=r((()=>(0,n._)("p",null," Стоит проверить входные данные ",-1))),u={class:"col-lg-6 col-md-12"},p={class:"col-lg-3 col-md-12"},h=r((()=>(0,n._)("h1",null," Конфигуратор алгоритма ",-1))),_=r((()=>(0,n._)("button",{class:"button button-border button-rounded button-action activeButton",id:"loadData"}," Загрузить выборку ",-1))),g=r((()=>(0,n._)("div",{class:"separator"},null,-1))),m=r((()=>(0,n._)("div",{class:"separator"},null,-1)));function E(e,t,s,r,E,f){const y=(0,n.up)("TreeDescription"),v=(0,n.up)("Card"),b=(0,n.up)("Error"),D=(0,n.up)("Tree"),T=(0,n.up)("Modal");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",a,[(0,n._)("div",o,[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y)])),_:1}),(0,n.Wm)(b,{id:"error",class:(0,i.C_)({"error-displaying":e.isErrorDisplaying})},{default:(0,n.w5)((()=>[d,c])),_:1},8,["class"])]),(0,n._)("div",u,[(0,n.Wm)(v,{class:(0,i.C_)(["treeCard",{invisibleCard:!e.displayingTreeAsArray}]),id:"treeCard"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{ref:"tree"},null,512)])),_:1},8,["class"])]),(0,n._)("div",p,[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[h,_,g,(0,n._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-primary button-glow activeButton":e.displayingTreeAsArray,"button-flat nonActiveButton":e.displayingTreeAsArray}]),id:"reduceTreeButton"}," Сократить дерево ",2),m,(0,n._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-royal activeButton":e.displayingTreeAsArray,"button-flat nonActiveButton":e.displayingTreeAsArray}]),id:"executeQuery"}," Исполнить запрос ",2)])),_:1})])]),(0,n.Wm)(T,{ref:"modal"},null,512)])}var f=s(2482),y=s(6520),v=s(6774),b=s(2959);const D=(0,n._)("h1",null," Дерево решений ",-1),T=(0,n._)("h3",null," Бонусная реализация ",-1),O=(0,n._)("p",null," Алгоритм для построения дерева решений ",-1);function A(e,t,s,i,r,l){return(0,n.wg)(),(0,n.iD)(n.HY,null,[D,T,O],64)}var C=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let N=class extends y.w3{};N=C([(0,y.Ei)({components:{}})],N);var w=N,x=s(89);const P=(0,x.Z)(w,[["render",A]]);var Z=P,R=s(9242);const B=e=>((0,n.dD)("data-v-4372e80e"),e=e(),(0,n.Cn)(),e),I={class:"modal-wrapper container"},k={class:"row"},M=B((()=>(0,n._)("textarea",{class:"inputField",id:"inputField",autofocus:""},null,-1))),F=B((()=>(0,n._)("div",{class:"spacer"},null,-1))),L={class:"buttonWrapper"},j=B((()=>(0,n._)("button",{class:"button button-border button-rounded button-caution activeButton",id:"cancelButton"}," Отменить ",-1)));function W(e,t,s,r,l,a){const o=(0,n.up)("Card");return(0,n.wg)(),(0,n.j4)(R.uT,{name:"modal"},{default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,i.C_)(["modal-mask",{"modal-displaying":e.isDisplaying}])},[(0,n._)("div",I,[(0,n._)("div",k,[(0,n.Wm)(o,{class:"modal-content col-lg-6 col-md-12"},{default:(0,n.w5)((()=>[(0,n._)("h3",null,(0,i.zw)(e.header),1),M,F,(0,n._)("div",L,[(0,n._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-action activeButton":!0===e.isAvailableToSubmitData,"button-flat nonActiveButton":!1===e.isAvailableToSubmitData}]),id:"submitButton"}," Подтвердить ",2),j])])),_:1})])])],2)])),_:1})}var S=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let U=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"header",""),(0,f.Z)(this,"isDisplaying",!1),(0,f.Z)(this,"inputFieldValue",""),(0,f.Z)(this,"isAvailableToSubmitData",!1),(0,f.Z)(this,"inputField",null),(0,f.Z)(this,"previousOnclick",null)}set setInputFieldValue(e){this.inputFieldValue=e,this.inputField&&(this.inputField.value=this.inputFieldValue,this.isAvailableToSubmitData=this.inputField.value.length>0)}setSubmitButtonOnClick(e){let t=document.getElementById("submitButton");this.previousOnclick&&t&&t.removeEventListener("click",this.previousOnclick);let s=()=>{this.isAvailableToSubmitData&&this.inputField&&(e(this.inputField.value),this.clearEnteredData())};this.previousOnclick=s,t?.addEventListener("click",s)}clearEnteredData(){this.inputField&&(this.inputField.value=""),this.isAvailableToSubmitData=!1,this.isDisplaying=!1}initInputField(){this.inputField=document.getElementById("inputField")}initCancelButtonOnClick(){let e=document.getElementById("cancelButton");e?.addEventListener("click",(()=>{this.clearEnteredData()}))}initInputFieldTextChangeListener(){this.inputField?.addEventListener("input",(()=>{this.inputField&&(this.isAvailableToSubmitData=this.inputField.value.length>0)}))}mounted(){this.initInputField(),this.initCancelButtonOnClick(),this.initInputFieldTextChangeListener()}};U=S([(0,y.Ei)({components:{Card:v.Z}})],U);var K=U;const Q=(0,x.Z)(K,[["render",W],["__scopeId","data-v-4372e80e"]]);var H=Q,V=s(3923),q=s(7497);class ${constructor(e,t){(0,f.Z)(this,"nextNodes",void 0),(0,f.Z)(this,"parameter",void 0),(0,f.Z)(this,"processingElements",void 0),(0,f.Z)(this,"depth",void 0),(0,f.Z)(this,"parameterString",void 0),this.nextNodes=[],this.processingElements=e,this.depth=t+1,this.parameter=-1,this.parameterString=""}chooseParam(){let e,t=0,s=100;for(let n=0;n<this.processingElements[0].length;n++)e=this.findEntropy(n),e<s&&0!=e&&(s=e,t=n);return t}findEntropy(e){const t=+this.processingElements[0][e];let s=0;if(isNaN(t)){const t=[],n=[];for(let s=0;s<this.processingElements.length;s++){let i=!1;for(let r=0;r<t.length;r++)if(this.processingElements[s][e]==t[r]){i=!0,n[r]++;break}i||(t.push(this.processingElements[s][e]),n.push(1))}for(let e=0;e<n.length;e++)s-=n[e]/this.processingElements.length*Math.log2(n[e]/this.processingElements.length)}else{let t=0,n=0;for(let s=0;s<this.processingElements.length;s++)t+=+this.processingElements[s][e];t/=this.processingElements.length;for(let s=0;s<this.processingElements.length;s++)+this.processingElements[s][e]<t&&n++;s=-n/this.processingElements.length*Math.log2(n/this.processingElements.length)-(this.processingElements.length-n)/this.processingElements.length*Math.log2((this.processingElements.length-n)/this.processingElements.length)}return s}separateGroups(){const e=this.chooseParam(),t=+this.processingElements[0][e];if(isNaN(t)){const t=[],s=[],n=[],i=[];for(let r=0;r<this.processingElements.length;r++){let n=!1;for(let i=0;i<t.length;i++)if(this.processingElements[r][e]==t[i]){n=!0,s[i]++;break}n||(t.push(this.processingElements[r][e]),s.push(1))}for(let r=0;r<t.length;r++){let s=0;n[r]=[];for(let l=0;l<this.processingElements.length;l++)t[r]==this.processingElements[l][e]&&(n[r][s]=this.processingElements[l],i[r]=t[r],s++)}for(let r=0;r<n.length;r++)this.nextNodes[r]=new $(n[r],this.depth),this.nextNodes[r].parameterString=i[r],this.nextNodes[r].parameter=e}else{const t=[],s=[];let n=0;for(let i=0;i<this.processingElements.length;i++)n+=+this.processingElements[i][e];n/=this.processingElements.length;for(let i=0;i<this.processingElements.length;i++)+this.processingElements[i][e]<n?t.push(this.processingElements[i]):s.push(this.processingElements[i]);this.nextNodes[0]=new $(t,this.depth),this.nextNodes[0].parameterString="<"+n.toFixed(2).toString(),this.nextNodes[0].parameter=e,this.nextNodes[1]=new $(s,this.depth),this.nextNodes[1].parameterString=">="+n.toFixed(2).toString(),this.nextNodes[1].parameter=e}}createNewNodes(){if(this.processingElements.length>1){this.separateGroups();for(let e=0;e<this.nextNodes.length;e++)this.nextNodes[e].createNewNodes()}}convert(){let e=null;if(this.nextNodes.length>0){e=[];for(let t=0;t<this.nextNodes.length;t++)e.push(this.nextNodes[t].convert())}let t=1,s=null;null==e&&(t=0,s=this.processingElements[0][this.processingElements[0].length-1]);const n=new q.Z(t,this.parameter+1,this.parameterString,s);return new V.Z(n,e)}}var G=$,z=s(9092);class Y{static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}createTree(e){const t=z.Z.getInstance().parseInputData(e);if(null!=t){const e=new G(t,0);e.createNewNodes();const s=e.convert();return s}return null}}(0,f.Z)(Y,"instance",void 0);var J=Y,X=s(9181);class ee{static getInstance(){return ee.instance||(ee.instance=new ee),ee.instance}reduceTree(e){return null}}(0,f.Z)(ee,"instance",void 0);var te=ee;const se={class:"tree",id:"tree"};function ne(e,t,s,i,r,l){return(0,n.wg)(),(0,n.iD)("div",se)}var ie=s(2169),re=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let le=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"displayingTreeField",null)}set displayingTree(e){this.displayingTreeField=e,this.drawDisplayingTree()}get displayingTree(){return this.displayingTreeField}drawDisplayingTree(){if(this.displayingTree){let e=document.createElement("ul"),t=document.createElement("li"),s=document.getElementById("tree");this.createNode(this.displayingTree,t),e.appendChild(t),s&&(s.innerHTML="",s.appendChild(e))}}createNode(e,t){let s=document.createElement("div"),n=document.createElement("a");e.data.type==ie.Z.PATH_NODE&&n.classList.add("pathNode");let i="";if(e.data.responsibleParameter&&(i+="Параметр: "+e.data.responsibleParameter+"\n\n"),e.data.condition&&(i+="Условие:\n"+e.data.condition+"\n"),e.data.result&&(i+="Результат:\n"+e.data.result+"\n"),""==i&&(i="Корень"),n.innerText=i,s.appendChild(n),e.nestedNodes){let t=document.createElement("ul");e.nestedNodes.forEach((e=>{let s=document.createElement("li");this.createNode(e,s),t.appendChild(s)})),s.appendChild(t)}t.appendChild(s)}};le=re([(0,y.Ei)({components:{}})],le);var ae=le;const oe=(0,x.Z)(ae,[["render",ne]]);var de=oe,ce=function(e,t,s,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,s,l):i(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l};let ue=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"isErrorDisplaying",!1),(0,f.Z)(this,"modal",null),(0,f.Z)(this,"displayingTreeAsArray",null),(0,f.Z)(this,"displayingTree",null),(0,f.Z)(this,"testBuildData","2,Alex,8\n21,Alex,9\n2,Alex,10\n2,Tom,11\n2,Tom,12\n2,Tom,14")}showModalForDataLoading(){this.modal&&(this.modal.header="Ввод обучающей выборки в .csv формате",this.modal.isDisplaying=!0,this.modal.setInputFieldValue=this.testBuildData,this.modal.setSubmitButtonOnClick((e=>{e&&(this.isErrorDisplaying=!1,this.submitDataToBuildTree(e)),this.modal&&(this.modal.isDisplaying=!1)})))}showModalForQueryExecuting(){this.modal&&(this.modal.header="Ввод запроса в .csv формате",this.modal.isDisplaying=!0,this.modal.setInputFieldValue="",this.modal.setSubmitButtonOnClick((e=>{e&&this.submitDataToExecuteQuery(e),this.modal&&(this.modal.isDisplaying=!1)})))}submitDataToBuildTree(e){this.displayBuildResult(J.getInstance().createTree(e))}submitDataToExecuteQuery(e){this.displayingTreeAsArray?this.displayQueryExecutingOrReducingResult(X.Z.getInstance().executeExpressionInTree(e,this.displayingTreeAsArray)):this.isErrorDisplaying=!0}submitDataToReduceTree(){this.displayingTreeAsArray?this.displayQueryExecutingOrReducingResult(te.getInstance().reduceTree(this.displayingTreeAsArray)):this.isErrorDisplaying=!0}displayBuildResult(e){e?(this.displayingTreeAsArray=e,this.displayingTree&&(this.displayingTree.displayingTree=this.displayingTreeAsArray)):this.isErrorDisplaying=!0}displayQueryExecutingOrReducingResult(e){e&&this.displayingTree?this.displayingTree.displayingTree=e:this.isErrorDisplaying=!0}initTree(){this.displayingTree=this.$refs.tree}initModal(){this.modal=this.$refs.modal}initLoadDataButtonOnClick(){let e=document.getElementById("loadData");e?.addEventListener("click",(()=>{this.showModalForDataLoading()}))}initExecuteQueryButtonOnClick(){let e=document.getElementById("executeQuery");e?.addEventListener("click",(()=>{this.displayingTreeAsArray?(this.showModalForQueryExecuting(),this.isErrorDisplaying=!1):this.isErrorDisplaying=!0}))}initReduceTreeButtonOnClick(){let e=document.getElementById("reduceTreeButton");e?.addEventListener("click",(()=>{this.displayingTreeAsArray?(this.submitDataToReduceTree(),this.isErrorDisplaying=!1):this.isErrorDisplaying=!0}))}mounted(){this.initTree(),this.initModal(),this.initLoadDataButtonOnClick(),this.initExecuteQueryButtonOnClick(),this.initReduceTreeButtonOnClick()}};ue=ce([(0,y.Ei)({components:{Tree:de,TreeDescription:Z,Card:v.Z,Error:b.Z,Modal:H}})],ue);var pe=ue;const he=(0,x.Z)(pe,[["render",E],["__scopeId","data-v-15123ada"]]);var _e=he}}]);