"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[678],{3923:function(e,t,i){var s=i(2482);class n{constructor(e,t){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"nestedNodes",void 0),this.data=e,this.nestedNodes=t}}t["Z"]=n},7497:function(e,t,i){var s=i(2482);class n{constructor(e,t=null,i=null,n=null){(0,s.Z)(this,"type",void 0),(0,s.Z)(this,"responsibleParameter",void 0),(0,s.Z)(this,"condition",void 0),(0,s.Z)(this,"result",void 0),this.type=e,this.responsibleParameter=t,this.condition=i,this.result=n}}t["Z"]=n},2169:function(e,t){var i;(function(e){e[e["LEAF_NODE"]=0]="LEAF_NODE",e[e["BRANCH_NODE"]=1]="BRANCH_NODE",e[e["PATH_NODE"]=2]="PATH_NODE"})(i||(i={})),t["Z"]=i},9181:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2482),_data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7497),_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2169),_csv_CSVParserRepository__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9092),_data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3923);class TreeExpressionExecutorRepository{constructor(){(0,_Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,"emptyData",new _data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__.Z(0))}static getInstance(){return TreeExpressionExecutorRepository.instance||(TreeExpressionExecutorRepository.instance=new TreeExpressionExecutorRepository),TreeExpressionExecutorRepository.instance}checkCondition(value,condition){return condition.charCodeAt(0)>=60&&condition.charCodeAt(0)<=62?isNaN(Number(value))?null:eval(value+condition):value==condition}copyTree(e,t){if(e.data=new _data_models_tree_NodeData__WEBPACK_IMPORTED_MODULE_3__.Z(t.data.type,t.data.responsibleParameter,t.data.condition,t.data.result),t.nestedNodes){e.nestedNodes=[];for(let i=0;i<t.nestedNodes.length;i++)e.nestedNodes.push(new _data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__.Z(this.emptyData,null)),this.copyTree(e.nestedNodes[i],t.nestedNodes[i])}else t.nestedNodes=null}executeExpressionInTree(e,t){const i=_csv_CSVParserRepository__WEBPACK_IMPORTED_MODULE_1__.Z.getInstance().parseInputData(e);if(!i)return null;const s=new _data_models_tree_DisplayingNode__WEBPACK_IMPORTED_MODULE_4__.Z(this.emptyData,null);this.copyTree(s,t);let n=s;while(n.data.type!=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.LEAF_NODE){n.data.type=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.PATH_NODE;for(const e of n.nestedNodes){if(e.data.responsibleParameter>i[0].length)return null;const t=this.checkCondition(i[0][e.data.responsibleParameter-1],e.data.condition);if(t){n=e;break}if(null==t)return null}}return n.data.type=_data_models_tree_NodeType__WEBPACK_IMPORTED_MODULE_0__.Z.PATH_NODE,s}}(0,_Users_delet_dis_projects_Frontend_interesting_algorithms_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(TreeExpressionExecutorRepository,"instance",void 0),__webpack_exports__["Z"]=TreeExpressionExecutorRepository},9092:function(e,t,i){var s=i(2482);class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}numberCheck(e){return!isNaN(Number(e))}parseInputData(e){let t=0,i=0,s=0;e=e.trim();const n=[];let r=1,l="";for(const o of e)if(","!=o){if("\n"==o){n.push(this.numberCheck(l));break}l+=o}else r++,n.push(this.numberCheck(l)),l="";r!=n.length&&n.push(this.numberCheck(l)),l="";const a=[];a.push(Array(r).fill(""));for(const o of e)if(","!=o)if("\n"!=o){if(i>=r)return null;a[t][i]+=o,s++}else{if(i!=r-1||!s||this.numberCheck(a[t][i])!=n[i])return null;a.push(Array(r).fill("")),t++,i=0}else{if(!s||this.numberCheck(a[t][i])!=n[i])return null;i++,s=0}if("\n"==e[e.length-1])a.pop();else if(i!=r-1||!s||this.numberCheck(a[t][i])!=n[i])return null;return a}}(0,s.Z)(n,"instance",void 0),t["Z"]=n},6774:function(e,t,i){i.d(t,{Z:function(){return h}});var s=i(3396);const n={class:"card"};function r(e,t,i,r,l,a){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}var l=i(6520),a=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let o=class extends l.w3{};o=a([(0,l.Ei)({components:{}})],o);var d=o,u=i(89);const c=(0,u.Z)(d,[["render",r],["__scopeId","data-v-0e3cb610"]]);var h=c},2959:function(e,t,i){i.d(t,{Z:function(){return h}});var s=i(3396);function n(e,t,i,n,r,l){const a=(0,s.up)("Card");return(0,s.wg)(),(0,s.j4)(a,{class:"error"},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}var r=i(6520),l=i(6774),a=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let o=class extends r.w3{};o=a([(0,r.Ei)({components:{Card:l.Z}})],o);var d=o,u=i(89);const c=(0,u.Z)(d,[["render",n],["__scopeId","data-v-0b922abf"]]);var h=c},3280:function(e,t,i){i.r(t),i.d(t,{default:function(){return pe}});var s=i(3396),n=i(7139);const r=e=>((0,s.dD)("data-v-15123ada"),e=e(),(0,s.Cn)(),e),l={class:"container"},a={class:"row"},o={class:"col-lg-3 col-md-12"},d=r((()=>(0,s._)("h1",null," Чего-то не хватает ",-1))),u=r((()=>(0,s._)("p",null," Стоит проверить входные данные ",-1))),c={class:"col-lg-6 col-md-12"},h={class:"col-lg-3 col-md-12"},_=r((()=>(0,s._)("h1",null," Конфигуратор алгоритма ",-1))),p=r((()=>(0,s._)("button",{class:"button button-border button-rounded button-action activeButton",id:"loadData"}," Загрузить выборку ",-1))),m=r((()=>(0,s._)("div",{class:"separator"},null,-1))),g=r((()=>(0,s._)("div",{class:"separator"},null,-1)));function E(e,t,i,r,E,f){const y=(0,s.up)("TreeDescription"),v=(0,s.up)("Card"),b=(0,s.up)("Error"),D=(0,s.up)("Tree"),T=(0,s.up)("Modal");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",a,[(0,s._)("div",o,[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y)])),_:1}),(0,s.Wm)(b,{id:"error",class:(0,n.C_)({"error-displaying":e.isErrorDisplaying})},{default:(0,s.w5)((()=>[d,u])),_:1},8,["class"])]),(0,s._)("div",c,[(0,s.Wm)(v,{class:(0,n.C_)(["treeCard",{invisibleCard:!e.displayingTreeAsArray}]),id:"treeCard"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{ref:"tree"},null,512)])),_:1},8,["class"])]),(0,s._)("div",h,[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[_,p,m,(0,s._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-primary button-glow activeButton":e.displayingTreeAsArray,"button-flat nonActiveButton":e.displayingTreeAsArray}]),id:"reduceTreeButton"}," Сократить дерево ",2),g,(0,s._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-royal activeButton":e.displayingTreeAsArray,"button-flat nonActiveButton":e.displayingTreeAsArray}]),id:"executeQuery"}," Исполнить запрос ",2)])),_:1})])]),(0,s.Wm)(T,{ref:"modal"},null,512)])}var f=i(2482),y=i(6520),v=i(6774),b=i(2959);const D=(0,s._)("h1",null," Дерево решений ",-1),T=(0,s._)("h3",null," Бонусная реализация ",-1),O=(0,s._)("p",null," Алгоритм для построения дерева решений ",-1);function A(e,t,i,n,r,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[D,T,O],64)}var C=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let N=class extends y.w3{};N=C([(0,y.Ei)({components:{}})],N);var w=N,x=i(89);const P=(0,x.Z)(w,[["render",A]]);var Z=P,R=i(9242);const B=e=>((0,s.dD)("data-v-4372e80e"),e=e(),(0,s.Cn)(),e),I={class:"modal-wrapper container"},k={class:"row"},M=B((()=>(0,s._)("textarea",{class:"inputField",id:"inputField",autofocus:""},null,-1))),F=B((()=>(0,s._)("div",{class:"spacer"},null,-1))),L={class:"buttonWrapper"},j=B((()=>(0,s._)("button",{class:"button button-border button-rounded button-caution activeButton",id:"cancelButton"}," Отменить ",-1)));function W(e,t,i,r,l,a){const o=(0,s.up)("Card");return(0,s.wg)(),(0,s.j4)(R.uT,{name:"modal"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["modal-mask",{"modal-displaying":e.isDisplaying}])},[(0,s._)("div",I,[(0,s._)("div",k,[(0,s.Wm)(o,{class:"modal-content col-lg-6 col-md-12"},{default:(0,s.w5)((()=>[(0,s._)("h3",null,(0,n.zw)(e.header),1),M,F,(0,s._)("div",L,[(0,s._)("button",{class:(0,n.C_)(["button button-border button-rounded",{"button-action activeButton":!0===e.isAvailableToSubmitData,"button-flat nonActiveButton":!1===e.isAvailableToSubmitData}]),id:"submitButton"}," Подтвердить ",2),j])])),_:1})])])],2)])),_:1})}var S=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let U=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"header",""),(0,f.Z)(this,"isDisplaying",!1),(0,f.Z)(this,"inputFieldValue",""),(0,f.Z)(this,"isAvailableToSubmitData",!1),(0,f.Z)(this,"inputField",null),(0,f.Z)(this,"previousOnclick",null)}set setInputFieldValue(e){this.inputFieldValue=e,this.inputField&&(this.inputField.value=this.inputFieldValue,this.isAvailableToSubmitData=this.inputField.value.length>0)}setSubmitButtonOnClick(e){let t=document.getElementById("submitButton");this.previousOnclick&&t&&t.removeEventListener("click",this.previousOnclick);let i=()=>{this.isAvailableToSubmitData&&this.inputField&&(e(this.inputField.value),this.clearEnteredData())};this.previousOnclick=i,t?.addEventListener("click",i)}clearEnteredData(){this.inputField&&(this.inputField.value=""),this.isAvailableToSubmitData=!1,this.isDisplaying=!1}initInputField(){this.inputField=document.getElementById("inputField")}initCancelButtonOnClick(){let e=document.getElementById("cancelButton");e?.addEventListener("click",(()=>{this.clearEnteredData()}))}initInputFieldTextChangeListener(){this.inputField?.addEventListener("input",(()=>{this.inputField&&(this.isAvailableToSubmitData=this.inputField.value.length>0)}))}mounted(){this.initInputField(),this.initCancelButtonOnClick(),this.initInputFieldTextChangeListener()}};U=S([(0,y.Ei)({components:{Card:v.Z}})],U);var K=U;const Q=(0,x.Z)(K,[["render",W],["__scopeId","data-v-4372e80e"]]);var H=Q,V=i(3923),q=i(7497);class ${constructor(e,t){(0,f.Z)(this,"nextNodes",void 0),(0,f.Z)(this,"param",void 0),(0,f.Z)(this,"currElems",void 0),(0,f.Z)(this,"depth",void 0),(0,f.Z)(this,"paramString",void 0),this.nextNodes=[],this.currElems=e,this.depth=t+1,this.param=-1,this.paramString=""}chooseParam(){let e,t=0,i=100;for(let s=0;s<this.currElems[0].length;s++)e=this.findEntropy(s),e<i&&0!=e&&(i=e,t=s);return t}findEntropy(e){const t=+this.currElems[0][e];let i=0;if(isNaN(t)){const t=[],s=[];for(let i=0;i<this.currElems.length;i++){let n=!1;for(let r=0;r<t.length;r++)if(this.currElems[i][e]==t[r]){n=!0,s[r]++;break}n||(t.push(this.currElems[i][e]),s.push(1))}for(let e=0;e<s.length;e++)i-=s[e]/this.currElems.length*Math.log2(s[e]/this.currElems.length)}else{let t=0,s=0;for(let i=0;i<this.currElems.length;i++)t+=+this.currElems[i][e];t/=this.currElems.length;for(let i=0;i<this.currElems.length;i++)+this.currElems[i][e]<t&&s++;i=-s/this.currElems.length*Math.log2(s/this.currElems.length)-(this.currElems.length-s)/this.currElems.length*Math.log2((this.currElems.length-s)/this.currElems.length)}return i}separateGroups(){const e=this.chooseParam(),t=+this.currElems[0][e];if(isNaN(t)){const t=[],i=[],s=[],n=[];for(let r=0;r<this.currElems.length;r++){let s=!1;for(let n=0;n<t.length;n++)if(this.currElems[r][e]==t[n]){s=!0,i[n]++;break}s||(t.push(this.currElems[r][e]),i.push(1))}for(let r=0;r<t.length;r++){let i=0;s[r]=[];for(let l=0;l<this.currElems.length;l++)t[r]==this.currElems[l][e]&&(s[r][i]=this.currElems[l],n[r]=t[r],i++)}for(let r=0;r<s.length;r++)this.nextNodes[r]=new $(s[r],this.depth),this.nextNodes[r].paramString=n[r],this.nextNodes[r].param=e}else{const t=[],i=[];let s=0;for(let n=0;n<this.currElems.length;n++)s+=+this.currElems[n][e];s/=this.currElems.length;for(let n=0;n<this.currElems.length;n++)+this.currElems[n][e]<s?t.push(this.currElems[n]):i.push(this.currElems[n]);this.nextNodes[0]=new $(t,this.depth),this.nextNodes[0].paramString="<"+s.toFixed(2).toString(),this.nextNodes[0].param=e,this.nextNodes[1]=new $(i,this.depth),this.nextNodes[1].paramString=">="+s.toFixed(2).toString(),this.nextNodes[1].param=e}}createNewNodes(){if(this.currElems.length>1){this.separateGroups();for(let e=0;e<this.nextNodes.length;e++)this.nextNodes[e].createNewNodes()}}convert(){let e=null;if(this.nextNodes.length>0){e=[];for(let t=0;t<this.nextNodes.length;t++)e.push(this.nextNodes[t].convert())}let t=1,i=null;null==e&&(t=0,i=this.currElems[0][this.currElems[0].length-1]);const s=new q.Z(t,this.param+1,this.paramString,i),n=new V.Z(s,e);return n}}var G=$,z=i(9092);class Y{static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}createTree(e){const t=z.Z.getInstance().parseInputData(e);if(null!=t){const e=new G(t,0);e.createNewNodes();const i=e.convert();return i}return null}}(0,f.Z)(Y,"instance",void 0);var J=Y,X=i(9181);class ee{static getInstance(){return ee.instance||(ee.instance=new ee),ee.instance}reduceTree(e){return null}}(0,f.Z)(ee,"instance",void 0);var te=ee;const ie={class:"tree",id:"tree"};function se(e,t,i,n,r,l){return(0,s.wg)(),(0,s.iD)("div",ie)}var ne=i(2169),re=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let le=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"displayingTreeField",null)}set displayingTree(e){this.displayingTreeField=e,this.drawDisplayingTree()}get displayingTree(){return this.displayingTreeField}drawDisplayingTree(){if(this.displayingTree){let e=document.createElement("ul"),t=document.createElement("li"),i=document.getElementById("tree");this.createNode(this.displayingTree,t),e.appendChild(t),i&&(i.innerHTML="",i.appendChild(e))}}createNode(e,t){let i=document.createElement("div"),s=document.createElement("a");e.data.type==ne.Z.PATH_NODE&&s.classList.add("pathNode");let n="";if(e.data.responsibleParameter&&(n+="Параметр: "+e.data.responsibleParameter+"\n\n"),e.data.condition&&(n+="Условие:\n"+e.data.condition+"\n"),e.data.result&&(n+="Результат:\n"+e.data.result+"\n"),""==n&&(n="Корень"),s.innerText=n,i.appendChild(s),e.nestedNodes){let t=document.createElement("ul");e.nestedNodes.forEach((e=>{let i=document.createElement("li");this.createNode(e,i),t.appendChild(i)})),i.appendChild(t)}t.appendChild(i)}};le=re([(0,y.Ei)({components:{}})],le);var ae=le;const oe=(0,x.Z)(ae,[["render",se]]);var de=oe,ue=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};let ce=class extends y.w3{constructor(...e){super(...e),(0,f.Z)(this,"isErrorDisplaying",!1),(0,f.Z)(this,"modal",null),(0,f.Z)(this,"displayingTreeAsArray",null),(0,f.Z)(this,"displayingTree",null),(0,f.Z)(this,"testBuildData","2,Alex,8\n21,Alex,9\n2,Alex,10\n2,Tom,11\n2,Tom,12\n2,Tom,14")}showModalForDataLoading(){this.modal&&(this.modal.header="Ввод обучающей выборки в .csv формате",this.modal.isDisplaying=!0,this.modal.setInputFieldValue=this.testBuildData,this.modal.setSubmitButtonOnClick((e=>{e&&(this.isErrorDisplaying=!1,this.submitDataToBuildTree(e)),this.modal&&(this.modal.isDisplaying=!1)})))}showModalForQueryExecuting(){this.modal&&(this.modal.header="Ввод запроса в .csv формате",this.modal.isDisplaying=!0,this.modal.setInputFieldValue="",this.modal.setSubmitButtonOnClick((e=>{e&&this.submitDataToExecuteQuery(e),this.modal&&(this.modal.isDisplaying=!1)})))}submitDataToBuildTree(e){this.displayBuildResult(J.getInstance().createTree(e))}submitDataToExecuteQuery(e){this.displayingTreeAsArray?this.displayQueryExecutingOrReducingResult(X.Z.getInstance().executeExpressionInTree(e,this.displayingTreeAsArray)):this.isErrorDisplaying=!0}submitDataToReduceTree(){this.displayingTreeAsArray?this.displayQueryExecutingOrReducingResult(te.getInstance().reduceTree(this.displayingTreeAsArray)):this.isErrorDisplaying=!0}displayBuildResult(e){e?(this.displayingTreeAsArray=e,this.displayingTree&&(this.displayingTree.displayingTree=this.displayingTreeAsArray)):this.isErrorDisplaying=!0}displayQueryExecutingOrReducingResult(e){e&&this.displayingTree?this.displayingTree.displayingTree=e:this.isErrorDisplaying=!0}initTree(){this.displayingTree=this.$refs.tree}initModal(){this.modal=this.$refs.modal}initLoadDataButtonOnClick(){let e=document.getElementById("loadData");e?.addEventListener("click",(()=>{this.showModalForDataLoading()}))}initExecuteQueryButtonOnClick(){let e=document.getElementById("executeQuery");e?.addEventListener("click",(()=>{this.displayingTreeAsArray?(this.showModalForQueryExecuting(),this.isErrorDisplaying=!1):this.isErrorDisplaying=!0}))}initReduceTreeButtonOnClick(){let e=document.getElementById("reduceTreeButton");e?.addEventListener("click",(()=>{this.displayingTreeAsArray?(this.submitDataToReduceTree(),this.isErrorDisplaying=!1):this.isErrorDisplaying=!0}))}mounted(){this.initTree(),this.initModal(),this.initLoadDataButtonOnClick(),this.initExecuteQueryButtonOnClick(),this.initReduceTreeButtonOnClick()}};ce=ue([(0,y.Ei)({components:{Tree:de,TreeDescription:Z,Card:v.Z,Error:b.Z,Modal:H}})],ce);var he=ce;const _e=(0,x.Z)(he,[["render",E],["__scopeId","data-v-15123ada"]]);var pe=_e}}]);