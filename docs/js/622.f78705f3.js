"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[622],{2725:function(t,e,s){s.r(e),s.d(e,{default:function(){return Ct}});var i=s(3396),n=s(7139);const a=t=>((0,i.dD)("data-v-37793bbf"),t=t(),(0,i.Cn)(),t),o={class:"container",id:"container"},r={class:"row"},l={class:"col-lg-3 col-md-12"},c=a((()=>(0,i._)("h1",null," –Ø –∑–Ω–∞—é —Ç–æ—á–Ω–æ ‚Äì –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ ",-1))),d=a((()=>(0,i._)("p",null," –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –º–µ–Ω—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ ",-1))),h={class:"col-lg-6 col-md-12"},u={class:"clusterCanvas",id:"clusterCanvas",ref:"clusterCanvas"},C={class:"col-lg-3 col-md-12"},y=a((()=>(0,i._)("h1",null," –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ ",-1))),p=a((()=>(0,i._)("p",null," –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ ",-1))),v=a((()=>(0,i._)("div",{class:"separator"},null,-1))),D=a((()=>(0,i._)("p",null," –î–µ–π—Å—Ç–≤–∏—è —Å —Ç–æ—á–∫–∞–º–∏ ",-1))),f=a((()=>(0,i._)("button",{class:"button button-border button-rounded button-action",id:"addDotButton"}," –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫–∏ ",-1))),m=a((()=>(0,i._)("div",{class:"spacer"},null,-1))),b=a((()=>(0,i._)("button",{class:"button button-border button-rounded button-caution",id:"removeDotButton"}," –£–¥–∞–ª–∏—Ç—å —Ç–æ—á–∫–∏ ",-1))),g=a((()=>(0,i._)("div",{class:"separator"},null,-1))),x=a((()=>(0,i._)("p",null," –¢–∏–ø –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ ",-1))),k=a((()=>(0,i._)("button",{class:"button button-border button-rounded button-royal",id:"kMeansButton"}," –ö-–°—Ä–µ–¥–Ω–∏—Ö ",-1))),N=a((()=>(0,i._)("div",{class:"spacer"},null,-1))),B=a((()=>(0,i._)("button",{class:"button button-border button-rounded button-royal",id:"hierarchyButton"}," –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π ",-1))),I=a((()=>(0,i._)("div",{class:"spacer"},null,-1))),M=a((()=>(0,i._)("button",{class:"button button-border button-rounded button-primary button-glow",id:"comparisonButton"}," –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ ",-1)));function O(t,e,s,a,O,_){const w=(0,i.up)("ClusteringDescription"),E=(0,i.up)("Card"),A=(0,i.up)("Error"),S=(0,i.up)("vue-slider");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("div",l,[(0,i.Wm)(E,{class:"descriptionCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(w)])),_:1}),(0,i.Wm)(A,{id:"error",class:(0,n.C_)({"error-displaying":t.isErrorDisplaying})},{default:(0,i.w5)((()=>[c,d])),_:1},8,["class"])]),(0,i._)("div",h,[(0,i.Wm)(E,{class:"cardCenter clusteringCard",id:"clusteringCard"},{default:(0,i.w5)((()=>[(0,i._)("canvas",u,null,512)])),_:1})]),(0,i._)("div",C,[(0,i.Wm)(E,null,{default:(0,i.w5)((()=>[y,p,(0,i.Wm)(S,{modelValue:t.numberOfClusters,"onUpdate:modelValue":e[0]||(e[0]=e=>t.numberOfClusters=e),dotSize:20,max:10,min:2,silent:!0},null,8,["modelValue"]),v,D,f,m,b,g,x,k,N,B,I,M])),_:1})])])])}var _=s(2482),w=s(6520),E=s(9434),A=s(6948);const S=(0,i._)("h1",null," –ê–ª–≥–æ—Ä–∏—Ç–º –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ ",-1),T=(0,i._)("h3",null," –ë–æ–Ω—É—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ",-1),Z=(0,i._)("p",null," –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è —Ç–æ—á–µ–∫ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—ã ",-1);function L(t,e,s,n,a,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[S,T,Z],64)}var z=function(t,e,s,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(o=(a<3?n(o):a>3?n(e,s,o):n(e,s))||o);return a>3&&o&&Object.defineProperty(e,s,o),o};let F=class extends w.w3{};F=z([(0,w.Ei)({components:{}})],F);var P=F,R=s(89);const X=(0,R.Z)(P,[["render",L]]);var W=X,Y=s(8303),V=s.n(Y);class G{constructor(t,e,s=null,i=null){(0,_.Z)(this,"xCoordinate",void 0),(0,_.Z)(this,"yCoordinate",void 0),(0,_.Z)(this,"kMeansIndex",void 0),(0,_.Z)(this,"hierarchyIndex",void 0),this.xCoordinate=t,this.yCoordinate=e,this.kMeansIndex=s,this.hierarchyIndex=i}}var j=G;class q{constructor(){(0,_.Z)(this,"currentX",-1),(0,_.Z)(this,"currentY",-1),(0,_.Z)(this,"dots",[]),(0,_.Z)(this,"lastX",-1),(0,_.Z)(this,"lastY",-1)}setCenter(){let t=0,e=0;this.dots.forEach((s=>{t+=s.xCoordinate,e+=s.yCoordinate})),this.lastX=this.currentX,this.lastY=this.currentY,this.currentX=t/this.dots.length,this.currentY=e/this.dots.length}}var H=q;class U{constructor(){(0,_.Z)(this,"clusters",[])}static getInstance(){return U.instance||(U.instance=new U),U.instance}identifyCenters(t,e){const s=e.length,i=s/t;let n=0;for(let a=0;a<t;a++,n+=i)this.clusters[a].currentX=e[Math.floor(n)].xCoordinate,this.clusters[a].currentY=e[Math.floor(n)].yCoordinate}bind(t,e){for(let s=0;s<e;s++)this.clusters[s].dots=[];for(let s=0;s<t.length;s++){let e=Number.MAX_VALUE,i=-1;for(let n=0;n<this.clusters.length;n++){const a=Math.sqrt(Math.pow(t[s].xCoordinate-this.clusters[n].currentX,2)+Math.pow(t[s].yCoordinate-this.clusters[n].currentY,2));a<e&&(e=a,t[s].kMeansIndex=n,i=n)}this.clusters[i].dots.push(t[s])}return t}splitByClusters(t,e){this.clusters=[];for(let i=0;i<e;i++)this.clusters[i]=new H;this.identifyCenters(e,t);let s=0;while(s!=e){s=0,t=this.bind(t,e);for(let t=0;t<this.clusters.length;t++)this.clusters[t].setCenter();for(let t=0;t<e;t++)this.clusters[t].currentX==this.clusters[t].lastX&&this.clusters[t].currentY==this.clusters[t].lastY&&s++}return t}}(0,_.Z)(U,"instance",void 0);var K,J=U;(function(t){t[t["DOTS_ADDING"]=0]="DOTS_ADDING",t[t["DOTS_REMOVING"]=1]="DOTS_REMOVING"})(K||(K={}));var Q=K;let $;class tt{constructor(t,e,s){(0,_.Z)(this,"data",void 0),(0,_.Z)(this,"prevNode",void 0),(0,_.Z)(this,"nextNode",void 0),this.data=t,this.prevNode=e,this.nextNode=s}}$=Symbol.iterator;class et{constructor(...t){(0,_.Z)(this,"frontNode",null),(0,_.Z)(this,"backNode",null),(0,_.Z)(this,"iteratorStartNode",null),(0,_.Z)(this,"size",0);for(const e of t)this.pushBack(e)}pushBack(t){null===this.backNode?(this.backNode=new tt(t,null,null),this.frontNode=this.backNode,this.iteratorStartNode=this.frontNode):(this.backNode.nextNode=new tt(t,this.backNode,null),this.backNode=this.backNode.nextNode),this.size++}remove(t){let e=!0;t===this.backNode&&(t.prevNode&&(t.prevNode.nextNode=null),this.backNode=t.prevNode,e=!1),t===this.frontNode?(t.nextNode&&(t.nextNode.prevNode=null),this.frontNode=t.nextNode,this.iteratorStartNode=this.frontNode):e&&(t.prevNode.nextNode=t.nextNode,t.nextNode.prevNode=t.prevNode),this.size--}concatenate(t){this.size&&t.size&&(this.backNode.nextNode=t.frontNode,t.frontNode.prevNode=this.backNode,this.backNode=t.backNode,this.size+=t.size)}[$](){let t=this.iteratorStartNode;return this.iteratorStartNode=this.frontNode,{next:()=>{const e=t;return e&&(t=t.nextNode),{done:null===e,value:e}}}}}var st=et;class it{constructor(t,e,s,i){(0,_.Z)(this,"points",void 0),(0,_.Z)(this,"closest",void 0),(0,_.Z)(this,"minimalDistance",void 0),(0,_.Z)(this,"distCol",void 0),this.points=t,this.closest=e,this.minimalDistance=s,this.distCol=i}}var nt=it;class at{static getInstance(){return at.instance||(at.instance=new at),at.instance}splitByClusters(t,e){const s=new st;for(let l=0;l<t.length;l++)s.pushBack(new nt(new st(t[l]),null,99999,l));const i=Array(t.length);for(let l=0;l<t.length;l++)i[l]=Array(t.length);let n,a=9999,o=0;for(const l of s){s.iteratorStartNode=l.nextNode;let e=o+1;for(const r of s){const s=Math.sqrt(Math.pow(t[o].xCoordinate-t[e].xCoordinate,2)+Math.pow(t[o].yCoordinate-t[e].yCoordinate,2));i[o][e]=s,i[e][o]=s,s<l.data.minimalDistance&&(l.data.minimalDistance=s,l.data.closest=r,s<a&&(a=s,n=l)),s<r.data.minimalDistance&&(r.data.minimalDistance=s,r.data.closest=l),e++}o++}while(s.size!=e){n.data.points.concatenate(n.data.closest.data.points),n.data.minimalDistance=Number.MAX_VALUE,a=Number.MAX_VALUE;const t=n,e=n.data.distCol,o=n.data.closest.data.distCol;s.remove(n.data.closest);for(const r of s){if(r===t)continue;const s=r.data.distCol,l=Math.min(i[e][s],i[o][s]);i[e][s]=l,i[s][e]=l,l<t.data.minimalDistance&&(t.data.minimalDistance=l,t.data.closest=r),l<=r.data.minimalDistance&&(r.data.minimalDistance=l,r.data.closest=t),r.data.minimalDistance<a&&(a=r.data.minimalDistance,n=r)}}let r=0;for(const l of s){for(const t of l.data.points)t.data.hierarchyIndex=r;r++}return t}}(0,_.Z)(at,"instance",void 0);var ot,rt=at,lt=s(4258),ct=function(t,e,s,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(o=(a<3?n(o):a>3?n(e,s,o):n(e,s))||o);return a>3&&o&&Object.defineProperty(e,s,o),o};let dt=ot=class extends w.w3{constructor(...t){super(...t),(0,_.Z)(this,"meta",(0,w.cY)((()=>(0,A.jq)({title:"üì¶",htmlAttrs:{lang:"ru",amp:!0}})))),(0,_.Z)(this,"dotsToDisplayField",[]),(0,_.Z)(this,"numberOfClustersField",6),(0,_.Z)(this,"canvas",null),(0,_.Z)(this,"canvasContext",null),(0,_.Z)(this,"clusteringDisplayState",null),(0,_.Z)(this,"isErrorDisplaying",!1),(0,_.Z)(this,"kMeansColorsArray",null),(0,_.Z)(this,"hierarchyColorsArray",null),(0,_.Z)(this,"canvasClickListener",(t=>{let e=t.target.getBoundingClientRect();switch(this.clusteringDisplayState){case Q.DOTS_ADDING:if(e){this.clearDots();let s=new j(t.clientX-e.left,t.clientY-e.top),i=!0;for(let t=0;t<this.dotsToDisplay.length;t++){let e=this.dotsToDisplay[t];if(ot.areDotsNearby(s,e)){i=!1;break}}if(i){let t=this.dotsToDisplay;t.push(s),this.dotsToDisplay=t}}break;case Q.DOTS_REMOVING:if(e){this.clearDots();let s=new j(t.clientX-e.left,t.clientY-e.top);for(let t=0;t<this.dotsToDisplay.length;t++){let e=this.dotsToDisplay[t];if(ot.areDotsNearby(s,e)){let e=this.dotsToDisplay;e.splice(t,1),this.dotsToDisplay=e;break}}}break}}))}set dotsToDisplay(t){this.dotsToDisplayField=t,this.drawDots()}get dotsToDisplay(){return this.dotsToDisplayField}get numberOfClusters(){return this.numberOfClustersField}set numberOfClusters(t){this.numberOfClustersField=t}static areDotsNearby(t,e){let s=Math.sqrt(Math.pow(t.xCoordinate-e.xCoordinate,2))+Math.sqrt(Math.pow(t.yCoordinate-e.yCoordinate,2))-25;return s<=25}static updateCardSize(t){t&&(t.style.height=t.clientWidth+"px")}initCanvasOnClickListener(){this.canvas?.addEventListener("click",this.canvasClickListener)}removeCanvasClickListener(){this.canvas?.removeEventListener("click",this.canvasClickListener)}initCanvas(){this.canvas=document.getElementById("clusterCanvas"),this.canvasContext=this.canvas.getContext("2d"),this.updateCanvasSize()}initCardWidthListener(){let t=document.getElementById("clusteringCard");ot.updateCardSize(t),this.updateCanvasSize(),window?.addEventListener("resize",(()=>{ot.updateCardSize(t),this.updateCanvasSize()}))}initAddDotButtonOnClickListener(){let t=document.getElementById("addDotButton");t?.addEventListener("click",(()=>{this.clusteringDisplayState=Q.DOTS_ADDING}))}initRemoveDotButtonOnClickListener(){let t=document.getElementById("removeDotButton");t?.addEventListener("click",(()=>{this.clusteringDisplayState=Q.DOTS_REMOVING}))}initKMeansButtonOnClickListener(){let t=document.getElementById("kMeansButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=J.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initHierarchyButtonOnClickListener(){let t=document.getElementById("hierarchyButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=rt.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initComparisonButtonOnClickListener(){let t=document.getElementById("comparisonButton");t?.addEventListener("click",(()=>{this.numberOfClusters<=this.dotsToDisplay.length?(this.isErrorDisplaying=!1,this.clearDots(),this.clusteringDisplayState=null,this.dotsToDisplay=rt.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters),this.dotsToDisplay=J.getInstance().splitByClusters(this.dotsToDisplay,this.numberOfClusters)):this.isErrorDisplaying=!0}))}initContainerWidthListener(){new ResizeObserver((()=>this.updateCanvasSize())).observe(document.getElementById("container"))}initColorsArrays(){this.kMeansColorsArray=["#ADA8F1","#474555","#ACA9BB","#F69591","#BB615F","#574240","#BFA5A3","#71823B","#3F510A","#E5DBCE"],this.hierarchyColorsArray=["#514438","#ED992A","#0090B4","#B8A89A","#00C77F","#00ABBB","#00C77F","#00C9DD","#BEFCFF","#458084"]}updateCanvasSize(){let t=document.getElementById("clusteringCard");if(t&&this.canvas){let e=t.offsetWidth-30,s=t.offsetHeight-40;this.canvas.width=e,this.canvas.height=s,this.canvas.style.width=e+"px",this.canvas.style.height=s+"px"}this.drawDots()}drawDots(){this.canvas&&(this.canvasContext?.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasContext?.beginPath(),this.canvasContext?.closePath()),this.dotsToDisplay.forEach((t=>{this.canvasContext&&(this.canvasContext.moveTo(t.xCoordinate,t.yCoordinate),this.canvasContext.beginPath(),this.canvasContext.lineWidth=20,null!=t.hierarchyIndex&&null!=t.kMeansIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,-Math.PI/2,Math.PI/2),this.hierarchyColorsArray&&(this.canvasContext.strokeStyle=this.hierarchyColorsArray[t.hierarchyIndex],this.canvasContext.stroke()),this.canvasContext.beginPath(),this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,Math.PI/2,-Math.PI/2),this.kMeansColorsArray&&(this.canvasContext.strokeStyle=this.kMeansColorsArray[t.kMeansIndex],this.canvasContext.stroke())),null!=t.hierarchyIndex&&null==t.kMeansIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.hierarchyColorsArray&&(this.canvasContext.strokeStyle=this.hierarchyColorsArray[t.hierarchyIndex]),this.canvasContext.stroke()),null!=t.kMeansIndex&&null==t.hierarchyIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.kMeansColorsArray&&(this.canvasContext.strokeStyle=this.kMeansColorsArray[t.kMeansIndex]),this.canvasContext.stroke()),null==t.kMeansIndex&&null==t.hierarchyIndex&&(this.canvasContext.arc(t.xCoordinate,t.yCoordinate,10,0,2*Math.PI),this.canvasContext.strokeStyle="#000000",this.canvasContext.stroke()))}))}clearDots(){for(let t=0;t<this.dotsToDisplay.length;t++)this.dotsToDisplay[t].hierarchyIndex=null,this.dotsToDisplay[t].kMeansIndex=null}mounted(){this.initContainerWidthListener(),this.initColorsArrays(),this.initCanvas(),this.initCardWidthListener(),this.initAddDotButtonOnClickListener(),this.initRemoveDotButtonOnClickListener(),this.initKMeansButtonOnClickListener(),this.initHierarchyButtonOnClickListener(),this.initComparisonButtonOnClickListener(),this.initCanvasOnClickListener()}};dt=ot=ct([(0,w.Ei)({components:{Error:lt.Z,ClusteringDescription:W,Card:E.Z,VueSlider:V()}})],dt);var ht=dt;const ut=(0,R.Z)(ht,[["render",O],["__scopeId","data-v-37793bbf"]]);var Ct=ut}}]);
//# sourceMappingURL=622.f78705f3.js.map