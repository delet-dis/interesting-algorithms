"use strict";(self["webpackChunkinteresting_algorithms"]=self["webpackChunkinteresting_algorithms"]||[]).push([[678],{24998:function(t,n,e){e.r(n),e.d(n,{default:function(){return rn}});var r=e(73396),i=e(87139),o={class:"container"},s={class:"row"},u={class:"col-lg-3 col-md-12"},a=(0,r._)("h1",null," Чего-то не хватает ",-1),l=(0,r._)("p",null," Стоит проверить наличие центра колонии и точек еды ",-1),c={class:"col-lg-6 col-md-12"},h={class:"col-lg-3 col-md-12"},f=(0,r._)("h1",null," Конфигуратор алгоритма ",-1),p=(0,r._)("div",{class:"separator"},null,-1),d=(0,r._)("div",{class:"spacer"},null,-1),b=(0,r._)("div",{class:"separator"},null,-1),v=(0,r._)("p",null," Питательность точки еды ",-1),y=(0,r._)("div",{class:"spacer"},null,-1),m=(0,r._)("div",{class:"separator"},null,-1),g=(0,r._)("div",{class:"spacer"},null,-1),_=(0,r._)("div",{class:"spacer"},null,-1);function P(t,n,e,P,C,E){var w=(0,r.up)("AntDescription"),L=(0,r.up)("Card"),O=(0,r.up)("Error"),S=(0,r.up)("Labyrinth"),Z=(0,r.up)("vue-slider");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",s,[(0,r._)("div",u,[(0,r.Wm)(L,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w)]})),_:1}),(0,r.Wm)(O,{id:"error",class:(0,i.C_)({"error-displaying":t.isErrorDisplaying})},{default:(0,r.w5)((function(){return[a,l]})),_:1},8,["class"])]),(0,r._)("div",c,[(0,r.Wm)(L,{class:"cardCenter labyrinthCard",id:"labyrinthCard"},{default:(0,r.w5)((function(){return[(0,r.Wm)(S,{labyrinthSizing:t.labyrinthSizing,ref:"labyrinth"},null,8,["labyrinthSizing"])]})),_:1})]),(0,r._)("div",h,[(0,r.Wm)(L,null,{default:(0,r.w5)((function(){return[f,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-primary button-glow activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"generateButton"}," Сгенерировать поле ",2),p,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-action activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"colonyCenterPickingButton"}," Установить центр колонии ",2),d,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-inverse activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"borderPickingButton"}," Редактировать границы ",2),b,v,(0,r.Wm)(Z,{modelValue:t.foodNutritionalValue,"onUpdate:modelValue":n[0]||(n[0]=function(n){return t.foodNutritionalValue=n}),disabled:!t.isConfigEditable,dotSize:20,max:10,min:1,silent:!0},null,8,["modelValue","disabled"]),y,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-caution activeButton":!0===t.isConfigEditable,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"foodPickingButton"}," Редактировать точки еды ",2),m,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-highlight activeButton":!0===t.isConfigEditable&&t.isAbleToStart,"button-flat nonActiveButton":!1===t.isConfigEditable}]),id:"startButton"}," Запустить ",2),g,(0,r._)("button",{class:(0,i.C_)(["button button-border button-rounded",{"button-royal activeButton":!1===t.isConfigEditable,"button-flat nonActiveButton":!0===t.isConfigEditable}]),id:"stopButton"}," Остановить ",2),_,(0,r._)("button",{class:(0,i.C_)(["button button-flat button-border button-rounded",{activeButton:!0===t.isConfigEditable,nonActiveButton:!1===t.isConfigEditable}]),id:"clearButton"}," Очистить ",2)]})),_:1})])])])}var C=e(48534),E=e(13087),w=e(62833),L=e(52417),O=e(93806),S=e(25744),Z=e(82482),k=e(3336),I=(e(36133),e(38880),e(41539),e(81299),e(92222),e(54747),e(91038),e(78783),e(9653),e(66520)),B=e(93383),N=e(86774),A=(0,r._)("h1",null," Муравьиный алгоритм ",-1),R=(0,r._)("h3",null," Бонусная реализация ",-1),T=(0,r._)("p",null," Алгоритм для оптимизации муравьиной колонии ",-1);function x(t,n,e,i,o,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[A,R,T],64)}var D=function(t,n,e,r){var i,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,k.Z)(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(n,e,s):i(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s},F=function(t){(0,O.Z)(e,t);var n=(0,S.Z)(e);function e(){return(0,E.Z)(this,e),n.apply(this,arguments)}return(0,w.Z)(e)}(I.w3);F=D([(0,I.Ei)({components:{}})],F);var M=F,G=e(40089);const V=(0,G.Z)(M,[["render",x]]);var W,Y=V,H=e(82959),j=e(54126);(function(t){t[t["CENTER_PICKING"]=0]="CENTER_PICKING",t[t["FOOD_PICKING"]=1]="FOOD_PICKING",t[t["BORDERS_PICKING"]=2]="BORDERS_PICKING",t[t["DATA_SUBMITTING"]=3]="DATA_SUBMITTING",t[t["LABYRINTH_CLEANING"]=4]="LABYRINTH_CLEANING",t[t["LABYRINTH_GENERATING"]=5]="LABYRINTH_GENERATING",t[t["LABYRINTH_STOP_DISPLAYING"]=6]="LABYRINTH_STOP_DISPLAYING"})(W||(W={}));var z=W,K=e(50158),U=e(8303),X=e.n(U),$=e(48102),q=function(t){(0,O.Z)(e,t);var n=(0,S.Z)(e);function e(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,E.Z)(this,e),i=n.call(this,t,r),(0,Z.Z)((0,L.Z)(i),"point",void 0),(0,Z.Z)((0,L.Z)(i),"type",void 0),(0,Z.Z)((0,L.Z)(i),"nutritionalValue",void 0),(0,Z.Z)((0,L.Z)(i),"numberOfPheromones",void 0),i.point=t,i.type=r,i.nutritionalValue=o,i.numberOfPheromones=s,i}return(0,w.Z)(e)}($.Z),J=q,Q=e(84265),tt=e(67921),nt=function(){function t(){(0,E.Z)(this,t)}return(0,w.Z)(t,[{key:"generateLabyrinth",value:function(t){for(var n=[],e=0;e<t;e++){n[e]=[];for(var r=0;r<t;r++)n[e][r]=new J(new tt.Z(r,e),10,Q.Z.EMPTY_CELL,0)}for(var i=0;i<20;i++){var o=Math.random();if(o<.7){var s=Math.floor(15*Math.random()),u=Math.floor(15*Math.random());n[u][s].type=Q.Z.BORDER_CELL;for(var a=0;a<25;a++)o=Math.random(),o<.8&&(o=Math.random(),u+1<t&&o<.2?(u+=1,n[u][s].type=Q.Z.BORDER_CELL):u-1>=0&&o<.2?(u-=1,n[u][s].type=Q.Z.BORDER_CELL):s+1<t&&o<.25?(s+=1,n[u][s].type=Q.Z.BORDER_CELL):s-1>=0&&o<.25&&(s-=1,n[u][s].type=Q.Z.BORDER_CELL))}}return n}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();(0,Z.Z)(nt,"instance",void 0);var et=nt,rt=(e(40561),(0,w.Z)((function t(){(0,E.Z)(this,t)}))),it=rt,ot=(e(21703),e(82526),e(41817),e(32165),e(33948),e(47042),e(72443),function(t,n){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},ot(t,n)});function st(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}ot(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}Object.create;function ut(t){var n="function"===typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(t,n){var e="function"===typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),s=[];try{while((void 0===n||n-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(e=o["return"])&&e.call(o)}finally{if(i)throw i.error}}return s}function lt(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;function ct(t){return"function"===typeof t}e(26699),e(32023),e(69600),e(21249),e(39714),e(68309);function ht(t){var n=function(t){Error.call(t),t.stack=(new Error).stack},e=t(n);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ft=ht((function(t){return function(n){t(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}}));function pt(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var dt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,n,e,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=ut(o),u=s.next();!u.done;u=s.next()){var a=u.value;a.remove(this)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(ct(l))try{l()}catch(b){i=b instanceof ft?b.errors:[b]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=ut(c),f=h.next();!f.done;f=h.next()){var p=f.value;try{yt(p)}catch(v){i=null!==i&&void 0!==i?i:[],v instanceof ft?i=lt(lt([],at(i)),at(v.errors)):i.push(v)}}}catch(y){e={error:y}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}}if(i)throw new ft(i)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)yt(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}},t.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},t.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},t.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&pt(n,t)},t.prototype.remove=function(n){var e=this._finalizers;e&&pt(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}(),bt=dt.EMPTY;function vt(t){return t instanceof dt||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function yt(t){ct(t)?t():t.unsubscribe()}var mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gt={setTimeout:function(t){function n(n,e){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=gt.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,lt([t,n],at(e))):setTimeout.apply(void 0,lt([t,n],at(e)))})),clearTimeout:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t){var n=gt.delegate;return((null===n||void 0===n?void 0:n.clearTimeout)||clearTimeout)(t)})),delegate:void 0};function _t(t){gt.setTimeout((function(){var n=mt.onUnhandledError;if(!n)throw t;n(t)}))}function Pt(){}var Ct=function(){return Lt("C",void 0,void 0)}();function Et(t){return Lt("E",void 0,t)}function wt(t){return Lt("N",t,void 0)}function Lt(t,n,e){return{kind:t,value:n,error:e}}var Ot=null;function St(t){if(mt.useDeprecatedSynchronousErrorHandling){var n=!Ot;if(n&&(Ot={errorThrown:!1,error:null}),t(),n){var e=Ot,r=e.errorThrown,i=e.error;if(Ot=null,r)throw i}}else t()}function Zt(t){mt.useDeprecatedSynchronousErrorHandling&&Ot&&(Ot.errorThrown=!0,Ot.error=t)}var kt=function(t){function n(n){var e=t.call(this)||this;return e.isStopped=!1,n?(e.destination=n,vt(n)&&n.add(e)):e.destination=Dt,e}return st(n,t),n.create=function(t,n,e){return new At(t,n,e)},n.prototype.next=function(t){this.isStopped?xt(wt(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?xt(Et(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?xt(Ct,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(dt),It=Function.prototype.bind;function Bt(t,n){return It.call(t,n)}var Nt=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(e){Rt(e)}},t.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(e){Rt(e)}else Rt(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Rt(n)}},t}(),At=function(t){function n(n,e,r){var i,o,s=t.call(this)||this;ct(n)||!n?i={next:null!==n&&void 0!==n?n:void 0,error:null!==e&&void 0!==e?e:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&mt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return s.unsubscribe()},i={next:n.next&&Bt(n.next,o),error:n.error&&Bt(n.error,o),complete:n.complete&&Bt(n.complete,o)}):i=n;return s.destination=new Nt(i),s}return st(n,t),n}(kt);function Rt(t){mt.useDeprecatedSynchronousErrorHandling?Zt(t):_t(t)}function Tt(t){throw t}function xt(t,n){var e=mt.onStoppedNotification;e&&gt.setTimeout((function(){return e(t,n)}))}var Dt={closed:!0,next:Pt,error:Tt,complete:Pt},Ft=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function Mt(t){return t}function Gt(t){return 0===t.length?Mt:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var Vt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(t,n,e){var r=this,i=Ht(t)?t:new At(t,n,e);return St((function(){var t=r,n=t.operator,e=t.source;i.add(n?n.call(i,e):e?r._subscribe(i):r._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},t.prototype.forEach=function(t,n){var e=this;return n=Wt(n),new n((function(n,r){var i=new At({next:function(n){try{t(n)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});e.subscribe(i)}))},t.prototype._subscribe=function(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)},t.prototype[Ft]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gt(t)(this)},t.prototype.toPromise=function(t){var n=this;return t=Wt(t),new t((function(t,e){var r;n.subscribe((function(t){return r=t}),(function(t){return e(t)}),(function(){return t(r)}))}))},t.create=function(n){return new t(n)},t}();function Wt(t){var n;return null!==(n=null!==t&&void 0!==t?t:mt.Promise)&&void 0!==n?n:Promise}function Yt(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}function Ht(t){return t&&t instanceof kt||Yt(t)&&vt(t)}var jt=ht((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),zt=function(t){function n(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return st(n,t),n.prototype.lift=function(t){var n=new Kt(this,this);return n.operator=t,n},n.prototype._throwIfClosed=function(){if(this.closed)throw new jt},n.prototype.next=function(t){var n=this;St((function(){var e,r;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var i=ut(n.currentObservers),o=i.next();!o.done;o=i.next()){var s=o.value;s.next(t)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}))},n.prototype.error=function(t){var n=this;St((function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;var e=n.observers;while(e.length)e.shift().error(t)}}))},n.prototype.complete=function(){var t=this;St((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;var n=t.observers;while(n.length)n.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var n=this,e=this,r=e.hasError,i=e.isStopped,o=e.observers;return r||i?bt:(this.currentObservers=null,o.push(t),new dt((function(){n.currentObservers=null,pt(o,t)})))},n.prototype._checkFinalizedStatuses=function(t){var n=this,e=n.hasError,r=n.thrownError,i=n.isStopped;e?t.error(r):i&&t.complete()},n.prototype.asObservable=function(){var t=new Vt;return t.source=this,t},n.create=function(t,n){return new Kt(t,n)},n}(Vt),Kt=function(t){function n(n,e){var r=t.call(this)||this;return r.destination=n,r.source=e,r}return st(n,t),n.prototype.next=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===e||e.call(n,t)},n.prototype.error=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===e||e.call(n,t)},n.prototype.complete=function(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)},n.prototype._subscribe=function(t){var n,e;return null!==(e=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==e?e:bt},n}(zt),Ut=function(t){function n(n){var e=t.call(this)||this;return e._value=n,e}return st(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(n){var e=t.prototype._subscribe.call(this,n);return!e.closed&&n.next(this._value),e},n.prototype.getValue=function(){var t=this,n=t.hasError,e=t.thrownError,r=t._value;if(n)throw e;return this._throwIfClosed(),r},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(zt),Xt=function(){function t(n){(0,E.Z)(this,t),(0,Z.Z)(this,"way",[]),(0,Z.Z)(this,"previousPosition",new J(new tt.Z(-1,-1),Q.Z.EMPTY_CELL,0,0)),(0,Z.Z)(this,"currentPosition",void 0),(0,Z.Z)(this,"nutritionalValue",0),this.currentPosition=n}return(0,w.Z)(t,[{key:"findPossibleWays",value:function(t,n){var e=this,r=[];return this.currentPosition.point.x+1<n&&this.way.every((function(n){return n!=t[e.currentPosition.point.y][e.currentPosition.point.x+1]}))&&t[this.currentPosition.point.y][this.currentPosition.point.x+1].type!=Q.Z.BORDER_CELL&&r.push(t[this.currentPosition.point.y][this.currentPosition.point.x+1]),this.currentPosition.point.x-1>=0&&this.way.every((function(n){return n!=t[e.currentPosition.point.y][e.currentPosition.point.x-1]}))&&t[this.currentPosition.point.y][this.currentPosition.point.x-1].type!=Q.Z.BORDER_CELL&&r.push(t[this.currentPosition.point.y][this.currentPosition.point.x-1]),this.currentPosition.point.y+1<n&&this.way.every((function(n){return n!=t[e.currentPosition.point.y+1][e.currentPosition.point.x]}))&&t[this.currentPosition.point.y+1][this.currentPosition.point.x].type!=Q.Z.BORDER_CELL&&r.push(t[this.currentPosition.point.y+1][this.currentPosition.point.x]),this.currentPosition.point.y-1>=0&&this.way.every((function(n){return n!=t[e.currentPosition.point.y-1][e.currentPosition.point.x]}))&&t[this.currentPosition.point.y-1][this.currentPosition.point.x].type!=Q.Z.BORDER_CELL&&r.push(t[this.currentPosition.point.y-1][this.currentPosition.point.x]),r}},{key:"chooseDirection",value:function(t,n){var e=Math.random();switch(n.length){case 1:return this.updatePossibleDirections(n,0),this.currentPosition.type!=Q.Z.FOOD_CELL;case 2:var r=Math.pow(n[0].numberOfPheromones,1)/(Math.pow(n[0].numberOfPheromones,1)+Math.pow(n[1].numberOfPheromones,1));return e<r?(this.updatePossibleDirections(n,0),this.checkCurrentPositionForFoodCell()):(this.updatePossibleDirections(n,1),this.checkCurrentPositionForFoodCell()),!0;case 3:var i=Math.pow(n[0].numberOfPheromones,2)/(Math.pow(n[0].numberOfPheromones,2)+Math.pow(n[1].numberOfPheromones,2)+Math.pow(n[2].numberOfPheromones,2)),o=i+Math.pow(n[1].numberOfPheromones,2)/(Math.pow(n[0].numberOfPheromones,2)+Math.pow(n[1].numberOfPheromones,2)+Math.pow(n[2].numberOfPheromones,2));return e<i&&(this.updatePossibleDirections(n,0),this.checkCurrentPositionForFoodCell()),e<o?(this.updatePossibleDirections(n,1),this.checkCurrentPositionForFoodCell()):(this.updatePossibleDirections(n,2),this.checkCurrentPositionForFoodCell()),!0;case 4:var s=Math.pow(n[0].numberOfPheromones,2)/(Math.pow(n[0].numberOfPheromones,2)+Math.pow(n[1].numberOfPheromones,2)+Math.pow(n[2].numberOfPheromones,2)+Math.pow(n[3].numberOfPheromones,2)),u=s+Math.pow(n[1].numberOfPheromones,2)/(Math.pow(n[0].numberOfPheromones,2)+Math.pow(n[1].numberOfPheromones,2)+Math.pow(n[2].numberOfPheromones,2)+Math.pow(n[3].numberOfPheromones,2)),a=s+u+Math.pow(n[2].numberOfPheromones,2)/(Math.pow(n[0].numberOfPheromones,2)+Math.pow(n[1].numberOfPheromones,2)+Math.pow(n[2].numberOfPheromones,2)+Math.pow(n[3].numberOfPheromones,2));return e<s&&(this.updatePossibleDirections(n,0),this.checkCurrentPositionForFoodCell()),e<u&&(this.updatePossibleDirections(n,1),this.checkCurrentPositionForFoodCell()),e<a?(this.updatePossibleDirections(n,2),this.checkCurrentPositionForFoodCell()):(this.updatePossibleDirections(n,3),this.checkCurrentPositionForFoodCell()),!0}return!1}},{key:"updatePossibleDirections",value:function(t,n){this.previousPosition=this.currentPosition,this.way.push(this.currentPosition),this.currentPosition=t[n]}},{key:"checkCurrentPositionForFoodCell",value:function(){if(this.currentPosition.type==Q.Z.FOOD_CELL)return!1}}]),t}(),$t=Xt,qt=function(t){(0,O.Z)(e,t);var n=(0,S.Z)(e);function e(){var t;(0,E.Z)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,Z.Z)((0,L.Z)(t),"bestWayNutritionalValue",.1),(0,Z.Z)((0,L.Z)(t),"currentWay",[]),(0,Z.Z)((0,L.Z)(t),"bestWay",[]),(0,Z.Z)((0,L.Z)(t),"labyrinth",[]),(0,Z.Z)((0,L.Z)(t),"bestWayLength",Number.MAX_VALUE),(0,Z.Z)((0,L.Z)(t),"mapState",new Ut([])),(0,Z.Z)((0,L.Z)(t),"iterationCounter",new Ut(0)),(0,Z.Z)((0,L.Z)(t),"mapBestState",new Ut([])),(0,Z.Z)((0,L.Z)(t),"isWorking",!0),(0,Z.Z)((0,L.Z)(t),"intervalExecutorNumber",void 0),t}return(0,w.Z)(e,[{key:"setIsWorking",set:function(t){this.isWorking=t,this.isWorking||clearInterval()}},{key:"clearPreviousResult",value:function(){this.currentWay=[],this.bestWay=[],this.bestWayLength=Number.MAX_VALUE,this.mapState.next([]),this.mapBestState.next([]),this.iterationCounter.next(0)}},{key:"provideDataForCalculation",value:function(t,n){var e=this;this.labyrinth=t;for(var r=2e3,i=[],o=[],s=new J(new tt.Z(-1,-1),Q.Z.EMPTY_CELL,0,0),u=0;u<n;u++)for(var a=0;a<n;a++)this.labyrinth[u][a].type==Q.Z.CENTER_CELL&&(s=this.labyrinth[u][a]);for(var l=0;l<r;l++)o[l]=new $t(s);this.intervalExecutorNumber=setInterval((function(){if(e.isWorking){for(var t=0;t<o.length;t++)for(;;){if(i=o[t].findPossibleWays(e.labyrinth,n),!o[t].chooseDirection(e.labyrinth,i)){o[t].currentPosition.type==Q.Z.FOOD_CELL?o[t].currentPosition.nutritionalValue&&(o[t].nutritionalValue=o[t].currentPosition.nutritionalValue):o[t].nutritionalValue=0;break}i=[]}for(var r=0;r<n;r++)for(var u=0;u<n;u++)e.labyrinth[r][u].numberOfPheromones=.95*e.labyrinth[r][u].numberOfPheromones;for(var a=0;a<o.length;a++)if(o[a].nutritionalValue>0){o[a].way.length*(1/o[a].nutritionalValue)<e.bestWayLength*(1/e.bestWayNutritionalValue)&&(e.bestWayNutritionalValue=o[a].nutritionalValue,e.bestWayLength=o[a].way.length,e.bestWay=o[a].way),e.currentWay=o[a].way,e.currentWay.splice(0,1);for(var l=0;l<o[a].way.length;l++)e.labyrinth[o[a].way[l].point.y][o[a].way[l].point.x].numberOfPheromones+=Math.pow(o[a].nutritionalValue,4)/Math.pow(o[a].way.length,4)}e.mapState.next(e.currentWay),e.mapBestState.next(e.bestWay),e.iterationCounter.next(e.iterationCounter.value+1);for(var c=0;c<o.length;c++)o[c].nutritionalValue=0,o[c].way=[],o[c].currentPosition=s}else clearInterval(e.intervalExecutorNumber),e.clearPreviousResult()}),150)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(it);(0,Z.Z)(qt,"instance",void 0);var Jt=qt,Qt=function(t,n,e,r){var i,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,k.Z)(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(n,e,s):i(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s},tn=function(t){(0,O.Z)(e,t);var n=(0,S.Z)(e);function e(){var t;(0,E.Z)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,Z.Z)((0,L.Z)(t),"meta",(0,I.cY)((function(){return(0,B.jq)({title:"🐜",htmlAttrs:{lang:"ru",amp:!0}})}))),(0,Z.Z)((0,L.Z)(t),"isErrorDisplaying",!1),(0,Z.Z)((0,L.Z)(t),"isConfigEditable",!0),(0,Z.Z)((0,L.Z)(t),"isAbleToStart",!1),(0,Z.Z)((0,L.Z)(t),"labyrinthSizing",15),(0,Z.Z)((0,L.Z)(t),"foodNutritionalValueField",5),(0,Z.Z)((0,L.Z)(t),"labyrinth",null),(0,Z.Z)((0,L.Z)(t),"resultFieldSubscription",null),(0,Z.Z)((0,L.Z)(t),"bestResultFieldSubscription",null),t}return(0,w.Z)(e,[{key:"generateLabyrinth",value:function(){var t;null===(t=this.labyrinth)||void 0===t||t.displayBorderCells(et.getInstance().generateLabyrinth(this.labyrinthSizing))}},{key:"foodNutritionalValue",get:function(){return this.foodNutritionalValueField},set:function(t){this.foodNutritionalValueField=t,this.labyrinth&&(this.labyrinth.foodNutritionalValue=this.foodNutritionalValueField)}},{key:"changeLabyrinthDisplayState",value:function(t){if(this.isConfigEditable){switch(t){case z.FOOD_PICKING:case z.CENTER_PICKING:var n,e,r;null===(n=this.labyrinth)||void 0===n||n.clearPreviousResult(),null===(e=this.labyrinth)||void 0===e||e.removeBorderListener(),null===(r=this.labyrinth)||void 0===r||r.removeFinishListener()}switch(t){case z.CENTER_PICKING:var i;null===(i=this.labyrinth)||void 0===i||i.makeCellsSelectableForStart();break;case z.FOOD_PICKING:var o;null===(o=this.labyrinth)||void 0===o||o.makeCellsSelectableForFood();break;case z.BORDERS_PICKING:var s,u;null===(s=this.labyrinth)||void 0===s||s.clearPreviousResult(),null===(u=this.labyrinth)||void 0===u||u.makeCellsSelectableForBorders();break;case z.DATA_SUBMITTING:var a;null===(a=this.labyrinth)||void 0===a||a.clearCells(),this.submitCellsToAlgorithm();break;case z.LABYRINTH_GENERATING:this.generateLabyrinth();break;case z.LABYRINTH_CLEANING:var l;null===(l=this.labyrinth)||void 0===l||l.resetCellsClasses();break}}else t==z.LABYRINTH_STOP_DISPLAYING&&(this.isConfigEditable=!0,Jt.getInstance().isWorking=!1,this.removeSubscription());this.isAbleToStart=this.isStartAndFinishAvailable()}},{key:"submitCellsToAlgorithm",value:function(){var t=(0,C.Z)(regeneratorRuntime.mark((function t(){var n,e,r,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=new Array(this.labyrinthSizing),e=0;e<this.labyrinthSizing;e++)n[e]=new Array(this.labyrinthSizing);if(r=null,i=[],!this.labyrinth){t.next=16;break}if(Array.from(this.labyrinth.cells).forEach((function(t){var e,s=null===(e=o.labyrinth)||void 0===e?void 0:e.getCellCoordinates(t);if(t.classList.contains(K.Z.START_CELL)&&s)return n[s.y][s.x]=new J(s,Q.Z.CENTER_CELL),void(r=s);if(t.classList.contains(K.Z.FINISH_CELL)&&s){var u=t,a=0;return u.dataset.nutritionalvalue&&(a=Number(u.dataset.nutritionalvalue)),n[s.y][s.x]=new J(s,Q.Z.FOOD_CELL,a),void i.push(s)}t.classList.contains(K.Z.BORDER_CELL)&&s?n[s.y][s.x]=new J(s,Q.Z.BORDER_CELL):s&&(n[s.y][s.x]=new J(s,Q.Z.EMPTY_CELL))})),!(r&&i.length>0)){t.next=15;break}return this.isErrorDisplaying=!1,this.isConfigEditable=!1,new Promise((function(){setTimeout((function(){Jt.getInstance().provideDataForCalculation(n,o.labyrinthSizing)}),1e3)})),Jt.getInstance().isWorking=!0,t.next=13,this.addSubscription();case 13:t.next=16;break;case 15:this.isErrorDisplaying=!0;case 16:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"isStartAndFinishAvailable",value:function(){var t=!1,n=!1;return this.labyrinth&&Array.from(this.labyrinth.cells).forEach((function(e){e.classList.contains(K.Z.START_CELL)&&(t=!0),e.classList.contains(K.Z.FINISH_CELL)&&(n=!0)})),t&&n}},{key:"addSubscription",value:function(){var t=this;this.resultFieldSubscription=Jt.getInstance().mapState.subscribe((function(n){var e;null===(e=t.labyrinth)||void 0===e||e.clearCells(),n.forEach((function(t){var n=document.getElementById(K.Z.CELL+"-"+t.point.x+"x"+t.point.y);null===n||void 0===n||n.classList.add(K.Z.WRONG_PATH_CELL)}))})),this.bestResultFieldSubscription=Jt.getInstance().mapBestState.subscribe((function(t){t.forEach((function(t){var n=document.getElementById(K.Z.CELL+"-"+t.point.x+"x"+t.point.y);null===n||void 0===n||n.classList.add(K.Z.CORRECT_PATH_CELL)}))}))}},{key:"removeSubscription",value:function(){var t,n;null===(t=this.resultFieldSubscription)||void 0===t||t.unsubscribe(),null===(n=this.bestResultFieldSubscription)||void 0===n||n.unsubscribe()}},{key:"initLabyrinth",value:function(){this.labyrinth=this.$refs.labyrinth,this.labyrinth&&(this.labyrinth.foodNutritionalValue=this.foodNutritionalValue)}},{key:"initLabyrinthOnClick",value:function(){var t=this;this.labyrinth&&this.labyrinth.$el.addEventListener("click",(function(){t.isAbleToStart=t.isStartAndFinishAvailable()}))}},{key:"initColonyCenterPickingButtonOnclickListener",value:function(){var t=this,n=document.getElementById("colonyCenterPickingButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.CENTER_PICKING)}))}},{key:"initFoodPickingButtonOnclickListener",value:function(){var t=this,n=document.getElementById("foodPickingButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.FOOD_PICKING)}))}},{key:"initBorderPickingButtonOnclickListener",value:function(){var t=this,n=document.getElementById("borderPickingButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.BORDERS_PICKING)}))}},{key:"initStartButtonOnClickListener",value:function(){var t=this,n=document.getElementById("startButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.DATA_SUBMITTING)}))}},{key:"initClearButtonOnClickListener",value:function(){var t=this,n=document.getElementById("clearButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.LABYRINTH_CLEANING)}))}},{key:"initGenerateButtonOnClickListener",value:function(){var t=this,n=document.getElementById("generateButton");null===n||void 0===n||n.addEventListener("click",(function(){t.changeLabyrinthDisplayState(z.LABYRINTH_GENERATING)}))}},{key:"initStopButtonOnClickListener",value:function(){var t=this,n=document.getElementById("stopButton");null===n||void 0===n||n.addEventListener("click",(function(){t.isConfigEditable||t.changeLabyrinthDisplayState(z.LABYRINTH_STOP_DISPLAYING)}))}},{key:"mounted",value:function(){this.initLabyrinth(),this.initLabyrinthOnClick(),this.initGenerateButtonOnClickListener(),this.initColonyCenterPickingButtonOnclickListener(),this.initFoodPickingButtonOnclickListener(),this.initBorderPickingButtonOnclickListener(),this.initStartButtonOnClickListener(),this.initStopButtonOnClickListener(),this.initClearButtonOnClickListener()}}]),e}(I.w3);tn=Qt([(0,I.Ei)({components:{Labyrinth:j.Z,Error:H.Z,AntDescription:Y,Card:N.Z,VueSlider:X()}})],tn);var nn=tn;const en=(0,G.Z)(nn,[["render",P]]);var rn=en}}]);